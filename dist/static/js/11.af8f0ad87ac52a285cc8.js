webpackJsonp([11],{"/nqF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("NS8l"),r=(i("E4LH"),{name:"addAddress",data:function(){return{countryList:[],countryIdx:0,cityList:[],cityIdx:0,pickList:[],pickerIdx:0,regionList:[],regionIdx:0,address:{},level:0,showPick:!1,value:"",checked:!1,typeIndex:0,title:"Add",id:this.$route.query.id,typeList:[{name:"None",bol:!0},{name:"Home",bol:!1},{name:"Work",bol:!1},{name:"School",bol:!1}],form:{firstName:"",lastName:"",countryName:"",countryCode:"",provinceCode:"",provinceName:"",cityCode:"",cityName:"",street:"",building:"",mobile:"",apartment:"",landmark:1,postalCode:""}}},computed:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.id?(Object(a.f)({id:this.id}).then(function(t){e.address=t.data.result,e.form=e.address,e.typeIndex=e.form.landmark-1,e.initads("edit")}),this.title="Edit"):this.initads("add")},initads:function(e){var t=this;Object(a.c)().then(function(i){t.countryList=i.data.result,"edit"==e&&t.countryList.map(function(e,i){e.countryCode==t.form.countryCode&&(t.countryIdx=i)}),t.form.countryCode=t.countryList[t.countryIdx].countryCode,t.form.countryName=t.countryList[t.countryIdx].countryName,Object(a.b)({countryCode:t.form.countryCode,parentCode:0}).then(function(i){t.cityList=i.data.result,"edit"==e&&t.cityList.map(function(e,i){e.regionCode==t.form.provinceCode&&(t.cityIdx=i)}),t.form.provinceCode&&Object(a.b)({countryCode:t.form.provinceCode,parentCode:t.form.countryCode}).then(function(i){t.regionList=i.data.result,"edit"==e&&t.regionList.map(function(e,i){e.regionCode==t.form.cityCode&&(t.regionIdx=i)})})})})},changeSort:function(e){this.sortValue=e,this.sortVisible=!1},goBack:function(){this.$router.back(-1)},confirm:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){var i=e.form.id?a.e:a.a;e.form.addressType=e.checked?1:0,i(e.form).then(function(t){e.$toast("Save address successfully"),e.$router.back(-1)})}})},onChange:function(){},showPicker:function(e){switch(this.level=e,e){case 0:this.pickList=this.countryList.map(function(e){return e.countryName}),this.pickerIdx=this.countryIdx;break;case 1:this.pickList=this.cityList.map(function(e){return e.regionName}),this.pickerIdx=this.cityIdx;break;case 2:this.pickList=this.regionList.map(function(e){return e.regionName}),this.pickerIdx=this.regionIdx}this.showPick=!0},onCancel:function(){this.showPick=!1},onConfirm:function(e,t){var i=this;switch(this.showPick=!1,this.level){case 0:this.form.countryCode=this.countryList[t].countryCode,this.form.countryName=this.countryList[t].countryName,this.countryIdx=t,Object(a.b)({countryCode:this.form.countryCode,parentCode:0}).then(function(e){i.cityList=e.data.result});break;case 1:this.form.provinceCode=this.cityList[t].regionCode,this.form.provinceName=e,this.cityIdx=t,Object(a.b)({countryCode:this.form.countryCode,parentCode:this.form.provinceCode}).then(function(e){i.regionList=e.data.result});break;case 2:this.form.cityCode=this.regionList[t].regionCode,this.form.cityName=e,this.regionIdx=t}}}}),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{staticClass:"head"},[i("div",[i("a",{staticClass:"iconfont back",on:{click:e.goBack}},[e._v("  ")])]),e._v(" "),i("h1",[e._v(e._s(e.title)+" Address Information")]),e._v(" "),i("div",{staticClass:"chartWrap"},[i("a",{staticClass:"iconfont cart",on:{click:function(t){return e.$router.push("cart")}}},[e._v("  ")])])]),e._v(" "),i("div",{staticClass:"inputWrap"},[i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("First Name"),i("font",[e._v("*")])],1),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"firstName"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("firstName"),expression:"errors.has('firstName')"}]},[e._v(e._s(e.errors.first("firstName")))]),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("Last Name"),i("font",[e._v("*")])],1),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"lastName"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("lastName"),expression:"errors.has('lastName')"}]},[e._v(e._s(e.errors.first("lastName")))]),e._v(" "),i("div",{staticClass:"country"},[i("div",{staticClass:"coat_left"},[i("div",{staticClass:"label"},[e._v("Country")]),e._v(" "),i("van-field",{attrs:{readonly:!0,required:!0,"right-icon":"arrow-down"},on:{click:function(t){return e.showPicker(0)}},model:{value:e.form.countryName,callback:function(t){e.$set(e.form,"countryName",t)},expression:"form.countryName"}})],1),e._v(" "),i("div",{staticClass:"coat_right"},[i("div",{staticClass:"label"},[e._v("City")]),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{readonly:!0,required:!0,"right-icon":"arrow-down",name:"city"},on:{click:function(t){return e.showPicker(1)}},model:{value:e.form.provinceName,callback:function(t){e.$set(e.form,"provinceName",t)},expression:"form.provinceName"}})],1)]),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("city"),expression:"errors.has('city')"}]},[e._v(e._s(e.errors.first("city")))]),e._v(" "),i("div",{staticClass:"region"},[i("div",{staticClass:"label"},[e._v("Region")]),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{readonly:!0,required:!0,"right-icon":"arrow-down",name:"region"},on:{click:function(t){return e.showPicker(2)}},model:{value:e.form.cityName,callback:function(t){e.$set(e.form,"cityName",t)},expression:"form.cityName"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("region"),expression:"errors.has('region')"}]},[e._v(e._s(e.errors.first("region")))]),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("Street and Building")]),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:!0,name:"street"},model:{value:e.form.street,callback:function(t){e.$set(e.form,"street",t)},expression:"form.street"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("street"),expression:"errors.has('street')"}]},[e._v(e._s(e.errors.first("street")))]),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("Postal Code")]),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:!0,name:"postalCode"},model:{value:e.form.postalCode,callback:function(t){e.$set(e.form,"postalCode",t)},expression:"form.postalCode"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("postalCode"),expression:"errors.has('postalCode')"}]},[e._v(e._s(e.errors.first("postalCode")))]),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("Apartment and Floor")]),e._v(" "),i("van-field",{model:{value:e.form.apartment,callback:function(t){e.$set(e.form,"apartment",t)},expression:"form.apartment"}})],1),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"label"},[e._v("Nearest Landmark")]),e._v(" "),i("van-field",{model:{value:e.form.building,callback:function(t){e.$set(e.form,"building",t)},expression:"form.building"}})],1),e._v(" "),i("div",{staticClass:"comment"},[i("p",[e._v("Address Type")]),e._v(" "),e._l(e.typeList,function(t,a){return i("div",{key:t.name,class:[{red:e.typeIndex==a},"setmeal"],on:{click:function(t){e.typeIndex=a,e.form.landmark=a+1}}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),e._v(" "),i("div",{staticStyle:{clear:"both"}})],2),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"codeName"},[e._v("+97")]),e._v(" "),i("div",{staticClass:"label"},[e._v("Mobile Number"),i("font",[e._v("*")])],1),e._v(" "),i("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|mobile",expression:"'required|mobile'"}],attrs:{name:"mobile"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),i("font",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("mobile"),expression:"errors.has('mobile')"}]},[e._v(e._s(e.errors.first("mobile")))]),e._v(" "),i("div",{staticClass:"coat"},[i("div",{staticClass:"codeName"},[e._v("+97")]),e._v(" "),i("div",{staticClass:"label"},[e._v("Landline Number")]),e._v(" "),i("van-field",{model:{value:e.form.landlineNumber,callback:function(t){e.$set(e.form,"landlineNumber",t)},expression:"form.landlineNumber"}})],1),e._v(" "),i("van-checkbox",{attrs:{"checked-color":"red"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("Set as default address")]),e._v(" "),i("van-button",{attrs:{type:"danger"},on:{click:e.confirm}},[e._v("Save Address")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPick,expression:"showPick"}],staticClass:"pickerWrap",on:{click:function(t){e.showPick=!1}}}),e._v(" "),i("div",{staticClass:"picker"},[i("van-picker",{directives:[{name:"show",rawName:"v-show",value:e.showPick,expression:"showPick"}],ref:"picker",attrs:{columns:e.pickList,"show-toolbar":"","default-index":e.pickerIdx},on:{change:e.onChange,cancel:e.onCancel,confirm:e.onConfirm}})],1)])},staticRenderFns:[]};var o=i("C7Lr")(r,s,!1,function(e){i("3Raa"),i("toql")},"data-v-dc3db61a",null);t.default=o.exports},"3Raa":function(e,t){},toql:function(e,t){}});
//# sourceMappingURL=11.af8f0ad87ac52a285cc8.js.map