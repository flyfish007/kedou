webpackJsonp([38],{dzCT:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=n("Dd8w"),s=n.n(r),i=n("FWz8"),e=n("NYxO"),o={name:"orderList",data:function(){return{navIndex:0,navList:[],orderList:[]}},computed:s()({},Object(e.b)(["indexData"])),mounted:function(){this.init()},methods:{init:function(){var t=this;Object(i.c)().then(function(a){t.navList=a.data.result;var n=a.data.result[0].orderStatus;Object(i.b)(n,1,8).then(function(a){t.orderList=a.data.result})})},goBack:function(){this.$router.back(-1)},change:function(t){var a=this;this.navIndex=t;var n=this.navList[t].orderStatus;Object(i.b)(n,1,8).then(function(t){a.orderList=t.data.result})},addCart:function(t){var a=this;t.prodList.forEach(function(t){a.$store.dispatch("addCart",{skuCode:t.skuCode,num:t.productQuantity}).then(function(t){})}),this.$toast("Items have been added to Cart .")},getAttributes:function(t){return t.map(function(t){return t.optionName}).join(";")}}},c={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("section",{staticClass:"head"},[n("div",[n("a",{staticClass:"iconfont back",on:{click:t.goBack}},[t._v("  ")])]),t._v(" "),n("h1",[t._v("My Orders")]),t._v(" "),n("div",{staticClass:"chartWrap"},[n("router-link",{attrs:{to:{path:"/search",query:{}}}},[n("span",{staticClass:"search iconfont"},[t._v("  ")])]),t._v(" "),n("span",{staticClass:"bag"},[n("em",{staticClass:"font10"},[t._v(" "+t._s(t.indexData.shoppingCartNum)+" ")])]),t._v(" "),n("a",{staticClass:"iconfont cart",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.$router.push("cart")}}},[t._v("\n        \n      ")])],1)]),t._v(" "),n("section",{staticClass:"tabNav"},t._l(t.navList,function(a,r){return n("div",{key:r,class:t.navIndex==r?"active":"",on:{click:function(a){return t.change(r)}}},[n("span",[t._v(" "+t._s(a.name))])])}),0),t._v(" "),n("section",{staticClass:"orderList"},[n("ul",t._l(t.orderList.result,function(a,r){return n("li",{key:r},[n("div",{staticClass:"topNo",on:{click:function(n){return t.$router.push({path:"/orderDetail",query:{orderNo:a.orderNo}})}}},[n("p",[n("span",{staticClass:"no"},[t._v(" "+t._s(a.orderNo)+" ")]),t._v(" "),n("span",{staticClass:"payStyle"},[t._v(" "+t._s(a.payType)+" ")])]),t._v(" "),n("p",[n("span",{staticClass:"payStatus"},[t._v(" "+t._s(a.orderStatusStr)+" ")])])]),t._v(" "),t._l(a.prodList,function(r,s){return n("div",{key:s,staticClass:"proWrap clearfix",on:{click:function(n){return t.$router.push({path:"/orderDetail",query:{orderNo:a.orderNo}})}}},[n("div",{staticClass:"imgWrap",on:{click:function(n){return t.$router.push({path:"/orderDetail",query:{orderNo:a.orderNo}})}}},[n("img",{staticClass:"img",attrs:{src:r.img0}})]),t._v(" "),n("div",{staticClass:"numRight"},[n("span",{staticClass:"iconfont"},[t._v("  ")]),t._v(" "),n("span",[t._v(" "+t._s(r.productQuantity)+" ")])]),t._v(" "),n("div",{staticClass:"rightMain"},[n("p",{staticClass:"name"},[t._v(t._s(r.productName))]),t._v(" "),n("p",{staticClass:"size"},[t._v(t._s(t.getAttributes(r.attrOptList)))])])])}),t._v(" "),n("div",{staticClass:"downRow",on:{click:function(n){return t.$router.push({path:"/orderDetail",query:{orderNo:a.orderNo}})}}},[n("p",{staticClass:"date"},[t._v(t._s(a.createDate))]),t._v(" "),n("p",[n("span",{staticClass:"color999"},[t._v(" Grand Total: ")]),t._v(" "),n("span",{staticClass:"total"},[t._v("\n              "+t._s((a.payedAmount/100).toFixed(2))+" AED\n            ")])])]),t._v(" "),101==a.orderStatus?n("div",{staticClass:"downBtns"},[n("van-button",{attrs:{plain:"",hairline:"",type:"primary"}},[t._v("Cancel")]),t._v(" "),n("van-button",{attrs:{plain:"",hairline:"",type:"danger"},on:{click:function(a){return t.redirect("/payMent")}}},[t._v("Pay")])],1):t._e(),t._v(" "),103==a.orderStatus?n("div",{staticClass:"downBtns"},[n("span",{staticClass:"tips"},[t._v("\n            Has been delivered to the STORE of xxxx Has been delivered to the\n            STORE of xxxx")]),t._v(" "),n("van-button",{attrs:{plain:"",hairline:"",type:"primary"},on:{click:function(a){return t.redirect("/logistics")}}},[t._v("Logistic")])],1):t._e(),t._v(" "),3==a.orderStatus?n("div",{staticClass:"downBtns"},[n("van-button",{attrs:{plain:"",hairline:"",type:"primary"}},[t._v("Logistic")]),t._v(" "),n("van-button",{attrs:{plain:"",hairline:"",type:"primary"}},[t._v("Contact Store")])],1):t._e(),t._v(" "),104==a.orderStatus?n("div",{staticClass:"downBtns"},[n("van-button",{attrs:{plain:"",hairline:"",type:"primary"},on:{click:function(a){return t.redirect("/reviewsOrder")}}},[t._v("Review")]),t._v(" "),n("van-button",{attrs:{plain:"",hairline:"",type:"danger"},on:{click:function(n){return t.addCart(a)}}},[t._v("Buy Again")])],1):t._e()],2)}),0)])])},staticRenderFns:[]};var u=n("VU/8")(o,c,!1,function(t){n("tyi9")},"data-v-9f32efbe",null);a.default=u.exports},tyi9:function(t,a){}});
//# sourceMappingURL=38.6d21713e6e990e45a48e.js.map