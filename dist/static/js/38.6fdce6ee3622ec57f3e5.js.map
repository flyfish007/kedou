{"version":3,"sources":["webpack:///src/components/orderSummary.vue","webpack:///./src/components/orderSummary.vue?b3a2","webpack:///./src/components/orderSummary.vue"],"names":["orderSummary","name","data","grandTotal","selectIndex","couponAmount","ids","JSON","parse","this","$route","query","isVIP","cuponShow","orderData","chooseNum","couponList","hisCouponList","initCouponList","noAdress","initProList","computed","extends_default","Object","vuex_esm","mounted","init","methods","_this","order","then","res","result","shipmentList","length","forEach","el","timeVal","timeLabel","deliveryTimeList","filter","t","canUse","push","calTotal","address","selectAddress","addres","initAddress","getAddress","initProData","selectCoupon","item","i","use","indexOf","splice","check","changeTime","timeItem","timeIdx","$set","counponShow","subTotal","shipping","toFixed","confirmCoupon","_this2","e","goBack","$router","back","addressGo","getAttributes","arr","map","optionName","join","showAnyTime","timeShow","payMentGo","_this3","$toast","expectedDeliveryTime","shipmentFrom","params","couponId","addressId","path","components_orderSummary","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","_e","$event","redirect","_s","userName","mobile","class","rightArrow","_l","index","key","shipmentTitle","deliveredDays","directives","rawName","value","expression","red","pro","attrs","src","img0","cutOff","num","attributeList","mallPrice","merchantPrice","_m","messae","type","position","click-overlay","model","callback","$$v","href","beginTime","endTime","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/38.6fdce6ee3622ec57f3e5.js","sourcesContent":["<template>\n  <div class=\"mainwrap\">\n    <section class=\"head\">\n      <div>\n        <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a>\n      </div>\n      <h1>Order Summary</h1>\n      <div class=\"chartWrap\"></div>\n    </section>\n\n    <section class=\"orderSummaryWrap\">\n      <div class=\"address item-box\">\n        <p class=\"tittle\">Delivery Address</p>\n        <template v-if=\"!noAdress\">\n          <p class=\"user\" @click=\"redirect('/myAddress?action=select')\">\n            <span> {{ orderData.address.userName }} </span>\n            <span> NO.+971 {{ orderData.address.mobile }} </span>\n            <span class=\"tag\"> Home </span>\n          </p>\n        </template>\n        <div class=\"box-content\" @click=\"redirect('/myAddress?action=select')\">\n          <div v-if=\"!noAdress\">\n            <p class=\"two-line-ellipsis\">{{ orderData.address.address }}</p>\n          </div>\n          <div v-if=\"noAdress\" @click=\"addressGo\">\n            <span class=\"iconfont\"> &#xe601; </span>\n            <span> Add shipping address </span>\n          </div>\n          <div class=\"rightChange\" :class=\"{ rightArrow: noAdress }\">\n            <span class=\"iconfont\">\n              {{ noAdress ? \"&#xe93d;\" : \"&#xe75d;\" }}</span\n            >\n          </div>\n        </div>\n      </div>\n\n      <section class=\"proList\">\n        <div class=\"item-box\" v-for=\"(item, index) in initProList\" :key=\"index\">\n          <div class=\"tittleWrap\">\n            <p class=\"tittle\">\n              {{ item.shipmentTitle }}\n            </p>\n            <div class=\"deliveryTime\">\n              <p class=\"red\">\n                delivered in {{ item.deliveredDays }} business days\n              </p>\n              <div class=\"chooseTime\">\n                <p class=\"outer\" @click=\"showAnyTime(item, index)\">\n                  <span>\n                    {{\n                      !!item.timeLabel\n                        ? item.timeLabel\n                        : \"Preferred delivery time\"\n                    }}\n                  </span>\n                  <span class=\"iconfont arrowDown\"> &#xe671; </span>\n                </p>\n                <div class=\"timeList\" v-show=\"item.timeShow\">\n                  <p\n                    v-for=\"(timeItem, timeIdx) in item.deliveryTimeList\"\n                    @click=\"changeTime(item, timeItem, timeIdx)\"\n                    :class=\"{ red: item.timeVal == timeIdx }\"\n                    :key=\"timeIdx\"\n                  >\n                    {{ timeItem }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"box-content clearfix\"\n            v-for=\"(pro, i) in item.skuList\"\n            :key=\"i\"\n          >\n            <div class=\"imgWrap\">\n              <img :src=\"pro.img0\" class=\"img\" />\n              <p class=\"cutOff\">{{ item.cutOff }}</p>\n            </div>\n            <div class=\"rightMain\">\n              <div class=\"nameWrap\">\n                <div class=\"name\">{{ pro.name }}</div>\n                <div class=\"num\">\n                  <span class=\"iconfont\"> &#xe619; </span>\n                  <span> {{ pro.num }} </span>\n                </div>\n              </div>\n              <div class=\"proDownWrap\">\n                <div class=\"sizeWrap\">\n                  <p class=\"size\">\n                    {{ getAttributes(pro.attributeList) }}\n                  </p>\n                  <p class=\"shipping\" v-if=\"item.shipping\">\n                    Shipping: {{ pro.shipping }} AED\n                  </p>\n                </div>\n                <div>\n                  <p class=\"price\">{{ pro.mallPrice }} AED</p>\n                  <p class=\"priceDel\">{{ pro.merchantPrice }} AED</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <div class=\"item-box useCoupon\" @click=\"counponShow\">\n        <p class=\"tittle\">Choose Coupon</p>\n        <div class=\"box-content\">\n          <div>\n            <span class=\"iconfont radio\" :class=\"{ red: chooseNum }\">\n              {{ chooseNum ? \"&#xe63a;\" : \"&#xe608;\" }}\n            </span>\n            <span class=\"value\" > {{ chooseNum }} Selected </span>\n          </div>\n          <div><span class=\"iconfont arrowDown\"> &#xe671; </span></div>\n        </div>\n      </div>\n\n      <div class=\"item-box total\">\n        <p class=\"tittle\">Payment summary</p>\n        <div class=\"box-content\">\n          <p class=\"row\">\n            <label> Sub Total: </label>\n            <span> {{ orderData.subTotal }} AED </span>\n          </p>\n          <p class=\"row\">\n            <label> Shipping: </label>\n            <span> {{ orderData.shipping }} AED </span>\n          </p>\n          <!-- <p class=\"row\"> <label> Import fees deposit: </label> <span> 896.25 AED </span></p> -->\n          <p class=\"row\">\n            <label> Coupon: </label> <span> - {{ couponAmount }} AED</span>\n          </p>\n        </div>\n      </div>\n\n      <section class=\"downWrap\">\n        <div class=\"tips\">\n          <div class=\"red\">{{ orderData.messae }}</div>\n          <div class=\"gray\" v-if=\"false\">\n            To gather up a list <span class=\"iconfont\"> &#xe93d; </span>\n          </div>\n        </div>\n        <div class=\"downBtn\">\n          <div class=\"rightOperate\">\n            <span class=\"black\"> Grand Total: </span>\n            <span class=\"price\"> {{ grandTotal }} AED </span>\n            <van-button type=\"danger\" @click=\"payMentGo\">Proceed(1)</van-button>\n          </div>\n        </div>\n      </section>\n    </section>\n\n    <van-popup\n      v-model=\"cuponShow\"\n      position=\"bottom\"\n      @click-overlay=\"cuponShow = false\"\n    >\n      <div class=\"couponList\">\n        <a\n          class=\"iconfont close\"\n          href=\"javascript:void(0)\"\n          @click=\"cuponShow = false\"\n        >\n          &#xe66c;\n        </a>\n        <ul class=\"clearfix\">\n          <li v-for=\"(item, index) in couponList\" :key=\"index\">\n            <span\n              class=\"iconfont radio\"\n              :class=\"{ red: selectIndex.indexOf(index) > -1 }\"\n              @click=\"selectCoupon(item, index)\"\n            >\n              {{ selectIndex.indexOf(index) > -1 ? \"&#xe63a;\" : \"&#xe608;\" }}\n            </span>\n            <div>\n              <p class=\"name\">{{ item.name }}</p>\n              <p class=\"row2\">\n                <span class=\"price\"> {{ item.couponAmount }} </span>\n                <span class=\"date\">\n                  {{ item.beginTime }}-{{ item.endTime }}\n                </span>\n              </p>\n            </div>\n          </li>\n        </ul>\n        <div class=\"btnWrap\">\n          <van-button type=\"danger\" @click=\"confirmCoupon\" size=\"large\"\n            >Confirm</van-button\n          >\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { checkOrder, submitOrder } from \"@/api/order.js\";\nimport {mapGetters} from 'vuex';\nexport default {\n  name: \"orderSummary\",\n  data() {\n    return {\n      grandTotal: \"\",\n      selectIndex: [],\n      couponAmount: 0,\n      ids: JSON.parse(this.$route.query.ids),\n      isVIP: 1,\n      cuponShow: false,\n      orderData: {},\n      chooseNum: \"\",\n      couponList: [],\n      hisCouponList: [],\n      initCouponList: [],\n      noAdress: true,\n      initProList: []\n    };\n  },\n  computed: {...mapGetters(['selectAddress'])},\n  mounted() {\n    this.init();\n    // this.initAddress();\n  },\n  methods: {\n    init() {\n      checkOrder(this.ids).then(res => {\n        this.orderData = res.data.result;\n        this.initProList = res.data.result.shipmentList;\n        if (this.initProList.length > 0) {\n          this.initProList.forEach(el => {\n            el.timeVal = 0;\n            el.timeLabel = el.deliveryTimeList[0];\n          });\n        }\n        this.couponList = res.data.result.couponList.filter(t=>{return t.canUse!=0;});\n        if (this.couponList.length > 0) {\n          this.selectIndex.push(0);\n          this.couponAmount = this.couponList[0].couponAmount;\n          this.chooseNum = 1;\n        }\n        this.calTotal();\n        if (this.orderData.address) {\n          this.noAdress = false;\n        }\n        if(this.selectAddress){\n          this.orderData.addres=this.selectAddress;\n        }\n      });\n    },\n    //我的地址\n    initAddress() {\n      getAddress().then(res => {});\n    },\n    initProData() {\n      // this.proList.map((val)=>{\n      //   this.initProList.push(JSON.parse(JSON.stringify(Object.assign(val,{\"timeShow\":false}))))\n      // })\n    },\n    //选择优惠劵\n    selectCoupon(item, i) {\n      if (item.use == 0) {\n        return false;\n      }\n      // if (this.selectIndex.indexOf(i) > -1) {\n      //   this.selectIndex.splice(this.selectIndex.indexOf(i), 1);\n      // } else {\n      //   this.selectIndex.push(i);\n      // }\n      if (this.selectIndex.indexOf(i) > -1) {\n        this.selectIndex.splice(0, 1);\n      } else {\n        this.selectIndex.splice(0, 1);\n        this.selectIndex.push(i);\n      }\n      item.check = !item.check;\n      this.calTotal();\n    },\n    changeTime(item, timeItem, timeIdx) {\n      this.$set(item, \"timeVal\", timeIdx);\n      this.$set(item, \"timeLabel\", timeItem);\n      this.$set(item, \"timeShow\", false);\n    },\n    counponShow() {\n      if(this.couponList.length==0){\n        \n      }else{\n        this.cuponShow = true;\n      }\n    },\n    calTotal() {\n      let res =\n        this.orderData.subTotal * 1 +\n        this.orderData.shipping * 1 -\n        (this.couponAmount * 1 || 0);\n      this.grandTotal = res > 0 ? res.toFixed(2) : \"0.01\";\n    },\n    // 确定选择\n    confirmCoupon() {\n      this.chooseNum = 0;\n      this.couponAmount = 0;\n      if (this.selectIndex.length > 0) {\n        this.selectIndex.forEach(e => {\n          this.chooseNum++;\n          this.couponAmount += this.couponList[e].couponAmount * 1;\n        });\n      }\n      this.cuponShow = false;\n      this.calTotal();\n    },\n    goBack() {\n      this.$router.back(-1);\n    },\n    addressGo() {\n      this.$router.push(\"/addAddress?action=select\");\n    },\n    getAttributes(arr) {\n      return arr.map(t => t.optionName).join(\";\");\n    },\n    showAnyTime(item) {\n      this.$set(item, \"timeShow\", !item.timeShow);\n    },\n    //跳转支付页面\n    payMentGo() {\n      if (!this.orderData.address) {\n        this.$toast(\"Add address\");\n        return false;\n      }\n\n      let expectedDeliveryTime = [];\n      this.initProList.forEach(el => {\n        expectedDeliveryTime.push(el.shipmentFrom + \"~\" + el.timeLabel);\n      });\n\n      let params = {\n        grandTotal: this.grandTotal,\n        couponId:\n          this.selectIndex.length > 0\n            ? this.couponList[this.selectIndex[0]].couponId\n            : \"\",\n        ids: this.ids.join(\",\"),\n        addressId: this.orderData.address.addressId,\n        expectedDeliveryTime: expectedDeliveryTime.join(\",\")\n      };\n\n      //payMent?grandTotal=4599.00&couponId=4&ids=27_010100110000009678&addressId=4&expectedDeliveryTime=china~Any%20Daytime\n      submitOrder(params).then(res => {\n        this.$router.push({\n          path: \"/payMent\",\n          query: res.data.result\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../common/css/order.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/orderSummary.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainwrap\"},[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"Order Summary\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"})]),_vm._v(\" \"),_c('section',{staticClass:\"orderSummaryWrap\"},[_c('div',{staticClass:\"address item-box\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Delivery Address\")]),_vm._v(\" \"),(!_vm.noAdress)?[_c('p',{staticClass:\"user\",on:{\"click\":function($event){return _vm.redirect('/myAddress?action=select')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.address.userName)+\" \")]),_vm._v(\" \"),_c('span',[_vm._v(\" NO.+971 \"+_vm._s(_vm.orderData.address.mobile)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"tag\"},[_vm._v(\" Home \")])])]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"box-content\",on:{\"click\":function($event){return _vm.redirect('/myAddress?action=select')}}},[(!_vm.noAdress)?_c('div',[_c('p',{staticClass:\"two-line-ellipsis\"},[_vm._v(_vm._s(_vm.orderData.address.address))])]):_vm._e(),_vm._v(\" \"),(_vm.noAdress)?_c('div',{on:{\"click\":_vm.addressGo}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")]),_vm._v(\" \"),_c('span',[_vm._v(\" Add shipping address \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"rightChange\",class:{ rightArrow: _vm.noAdress }},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\\n            \"+_vm._s(_vm.noAdress ? \"\" : \"\"))])])])],2),_vm._v(\" \"),_c('section',{staticClass:\"proList\"},_vm._l((_vm.initProList),function(item,index){return _c('div',{key:index,staticClass:\"item-box\"},[_c('div',{staticClass:\"tittleWrap\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"\\n            \"+_vm._s(item.shipmentTitle)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"deliveryTime\"},[_c('p',{staticClass:\"red\"},[_vm._v(\"\\n              delivered in \"+_vm._s(item.deliveredDays)+\" business days\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"chooseTime\"},[_c('p',{staticClass:\"outer\",on:{\"click\":function($event){return _vm.showAnyTime(item, index)}}},[_c('span',[_vm._v(\"\\n                  \"+_vm._s(!!item.timeLabel\n                      ? item.timeLabel\n                      : \"Preferred delivery time\")+\"\\n                \")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont arrowDown\"},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.timeShow),expression:\"item.timeShow\"}],staticClass:\"timeList\"},_vm._l((item.deliveryTimeList),function(timeItem,timeIdx){return _c('p',{key:timeIdx,class:{ red: item.timeVal == timeIdx },on:{\"click\":function($event){return _vm.changeTime(item, timeItem, timeIdx)}}},[_vm._v(\"\\n                  \"+_vm._s(timeItem)+\"\\n                \")])}),0)])])]),_vm._v(\" \"),_vm._l((item.skuList),function(pro,i){return _c('div',{key:i,staticClass:\"box-content clearfix\"},[_c('div',{staticClass:\"imgWrap\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":pro.img0}}),_vm._v(\" \"),_c('p',{staticClass:\"cutOff\"},[_vm._v(_vm._s(item.cutOff))])]),_vm._v(\" \"),_c('div',{staticClass:\"rightMain\"},[_c('div',{staticClass:\"nameWrap\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(pro.name))]),_vm._v(\" \"),_c('div',{staticClass:\"num\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(pro.num)+\" \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"proDownWrap\"},[_c('div',{staticClass:\"sizeWrap\"},[_c('p',{staticClass:\"size\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.getAttributes(pro.attributeList))+\"\\n                \")]),_vm._v(\" \"),(item.shipping)?_c('p',{staticClass:\"shipping\"},[_vm._v(\"\\n                  Shipping: \"+_vm._s(pro.shipping)+\" AED\\n                \")]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"price\"},[_vm._v(_vm._s(pro.mallPrice)+\" AED\")]),_vm._v(\" \"),_c('p',{staticClass:\"priceDel\"},[_vm._v(_vm._s(pro.merchantPrice)+\" AED\")])])])])])})],2)}),0),_vm._v(\" \"),_c('div',{staticClass:\"item-box useCoupon\",on:{\"click\":_vm.counponShow}},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Choose Coupon\")]),_vm._v(\" \"),_c('div',{staticClass:\"box-content\"},[_c('div',[_c('span',{staticClass:\"iconfont radio\",class:{ red: _vm.chooseNum }},[_vm._v(\"\\n            \"+_vm._s(_vm.chooseNum ? \"\" : \"\")+\"\\n          \")]),_vm._v(\" \"),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.chooseNum)+\" Selected \")])]),_vm._v(\" \"),_vm._m(0)])]),_vm._v(\" \"),_c('div',{staticClass:\"item-box total\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Payment summary\")]),_vm._v(\" \"),_c('div',{staticClass:\"box-content\"},[_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Sub Total: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.subTotal)+\" AED \")])]),_vm._v(\" \"),_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Shipping: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.shipping)+\" AED \")])]),_vm._v(\" \"),_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Coupon: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" - \"+_vm._s(_vm.couponAmount)+\" AED\")])])])]),_vm._v(\" \"),_c('section',{staticClass:\"downWrap\"},[_c('div',{staticClass:\"tips\"},[_c('div',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.orderData.messae))]),_vm._v(\" \"),(false)?_c('div',{staticClass:\"gray\"},[_vm._v(\"\\n          To gather up a list \"),_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"downBtn\"},[_c('div',{staticClass:\"rightOperate\"},[_c('span',{staticClass:\"black\"},[_vm._v(\" Grand Total: \")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(_vm.grandTotal)+\" AED \")]),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.payMentGo}},[_vm._v(\"Proceed(1)\")])],1)])])]),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},on:{\"click-overlay\":function($event){_vm.cuponShow = false}},model:{value:(_vm.cuponShow),callback:function ($$v) {_vm.cuponShow=$$v},expression:\"cuponShow\"}},[_c('div',{staticClass:\"couponList\"},[_c('a',{staticClass:\"iconfont close\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.cuponShow = false}}},[_vm._v(\"\\n        \\n      \")]),_vm._v(\" \"),_c('ul',{staticClass:\"clearfix\"},_vm._l((_vm.couponList),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"iconfont radio\",class:{ red: _vm.selectIndex.indexOf(index) > -1 },on:{\"click\":function($event){return _vm.selectCoupon(item, index)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.selectIndex.indexOf(index) > -1 ? \"\" : \"\")+\"\\n          \")]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',{staticClass:\"row2\"},[_c('span',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(item.couponAmount)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(\"\\n                \"+_vm._s(item.beginTime)+\"-\"+_vm._s(item.endTime)+\"\\n              \")])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"btnWrap\"},[_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"large\"},on:{\"click\":_vm.confirmCoupon}},[_vm._v(\"Confirm\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"iconfont arrowDown\"},[_vm._v(\"  \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-8c78d7c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/orderSummary.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8c78d7c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderSummary.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSummary.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSummary.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8c78d7c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderSummary.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8c78d7c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orderSummary.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}