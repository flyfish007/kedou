webpackJsonp([58],{"2E9O":function(t,i){},aiqZ:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("aA9S"),e=s.n(a),n=s("vMJZ"),o={name:"browseRecord",data:function(){return{list:{},sortVisible:!1,searchValue:"",sortValue:2,query:{},loading:!1,finished:!1,isLoading:!0,sortType:[{value:1,label:"Price:Low to High"},{value:2,label:"Price:High to Low"},{value:3,label:"Best Sale"},{value:4,label:"High Rated"}],showStyle:1,show:!1,toggle:{Categories:1,Brand:0},priceRange:["",""],radioValue:1,radioValue2:1}},computed:{},mounted:function(){this.init()},methods:{init:function(){var t=this;this.query=e()(this.query,{pageNo:1,pageSize:10}),Object(n.f)(this.query).then(function(i){t.list=i.data.result,t.isLoading=!1,0==i.data.result.length&&(t.finished=!0)}).catch(function(i){t.finished=!0,t.isLoading=!1})},onLoad:function(){var t=this;if(console.log(1),this.isLoading)return this.loading=!1,!1;this.query.pageNo++,Object(n.f)(this.query).then(function(i){t.list=i.data.result,t.loading=!1,0==i.data.result.length&&(t.finished=!0)}).catch(function(i){t.finished=!0,t.loading=!1})},onRefresh:function(){this.init()},changeSort:function(t){this.sortValue=t,this.sortVisible=!1},goBack:function(){this.$router.back(-1)},addChart:function(t){this.$refs.addCart.load(t)},deleteRecord:function(t){var i=this;Object(n.d)({id:t.id}).then(function(t){i.init()})},shareShow:function(t){this.$store.dispatch("share",{imageUrl:[t.spuMainImage],url:"proDetail?spuCode="+t.spuCode,title:t.name}).then(function(t){})},getStr:function(t){var i=t.indexOf("-");return-1!=i?t.substring(0,i-1):t}}},r={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("section",{staticClass:"head"},[s("div",[s("a",{staticClass:"iconfont back",on:{click:t.goBack}},[t._v("  ")])]),t._v(" "),s("h1",[t._v("Browse record")]),t._v(" "),t._m(0)]),t._v(" "),s("section",{staticClass:"downListWrap"},[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("van-list",{attrs:{finished:t.finished,"finished-text":"The end"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[s("div",{staticClass:"commonPro"},[s("ul",{staticClass:"clearfix",class:{turnLine:1==t.showStyle,Prolist:2==t.showStyle}},t._l(t.list,function(i,a){return s("li",{key:a,on:{click:function(s){return t.$router.push({path:"proDetail",query:{spuCode:i.spuCode}})}}},[i.percentage?s("div",{staticClass:"tips_cutOff"},[t._v("\n                "+t._s(i.percentage)+" OFF\n              ")]):t._e(),t._v(" "),i.sale?s("div",{staticClass:"tips_sale"}):t._e(),t._v(" "),s("div",{staticClass:"imgWrap"},[s("img",{staticClass:"img",attrs:{src:i.spuMainImage}})]),t._v(" "),s("div",{staticClass:"rightMain"},[s("div",{staticClass:"name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"downWrap"},[s("div",{staticClass:"bottomPrice"},[s("p",{staticClass:"red"},[t._v(t._s(t.getStr(i.priceRange))+" AED")]),t._v(" "),s("p",{staticClass:"gray"},[t._v(t._s(t.getStr(i.priceRangeLine))+" AED")]),t._v(" "),1==i.isTypeFour?s("p",[t._v("Free Shipping")]):t._e()]),t._v(" "),s("div",{staticClass:"downShare"},[s("p",{staticClass:"others"},[t._v(t._s(i.sumSku)+" Other Items")]),t._v(" "),s("div",{class:{active:i.cart},on:{click:function(s){return s.stopPropagation(),t.addChart(i)}}},[s("span",{staticClass:"cart iconfont"},[t._v("  ")])]),t._v(" "),s("div",{class:{active:i.share},on:{click:function(s){return s.stopPropagation(),t.shareShow(i)}}},[s("span",{staticClass:"share iconfont"},[t._v("  ")])]),t._v(" "),s("div",{class:{active:i.share},on:{click:function(s){return s.stopPropagation(),t.deleteRecord(i)}}},[s("span",{staticClass:"share iconfont"},[t._v("  ")])])])])])])}),0)])])],1)],1),t._v(" "),s("add-cart",{ref:"addCart"})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"chartWrap"},[i("a",{staticClass:"iconfont cart"},[this._v("  ")])])}]};var c=s("C7Lr")(o,r,!1,function(t){s("2E9O")},"data-v-1fdbd32b",null);i.default=c.exports}});
//# sourceMappingURL=58.32d951f78d55899b7324.js.map