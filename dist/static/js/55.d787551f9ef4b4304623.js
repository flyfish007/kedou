webpackJsonp([55],{SmYS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("tH3/"),a=i("vMJZ"),n=i("FWz8"),o={name:"verifyMobile",data:function(){return{btnText:"",title:"",username:this.$route.query.username,type:this.$route.query.type,accountType:this.$route.query.accountType,validateCode:""}},computed:{},mounted:function(){this.init()},methods:{init:function(){switch(this.type){case"forget":case"register":case"updateEmail":case"reMobile":case"codMobile":this.btnText="Verify";break;default:this.btnText="Sign In"}1==this.accountType?this.title="Verify Email":this.title="Verify mobile number"},changeSort:function(e){this.sortValue=e,this.sortVisible=!1},goBack:function(){this.$router.back(-1)},submitSms:function(){var e=this;if("updateEmail"==this.type||"reMobile"==this.type)switch(this.type){case"updateEmail":if(console.log(this.validateCode),""==this.validateCode||void 0==this.validateCode)return this.$toast("Please input your user information"),!1;Object(a.p)({email:this.username,verificationCode:this.validateCode}).then(function(t){e.$toast(" Add Email successfully"),e.$router.go(-2)});break;case"reMobile":Object(a.r)({telephone:this.username,verificationCode:this.validateCode}).then(function(t){e.$toast(" Add Mobile successfully"),e.$router.go(-2)})}else this.verifyCode().then(function(t){switch(e.type){case"forget":e.$router.push({path:"setPwd",query:{username:e.username}});break;case"register":e.register();break;case"codMobile":e.codPay()}})},sendSms:function(){var e=this;(1==this.accountType?s.a:s.b)(this.username,this.type).then(function(t){e.$toast("Code send successfully")})},verifyCode:function(){return Object(s.c)({codeType:this.type,accountType:this.accountType,validateCode:this.validateCode,account:this.username})},register:function(){var e=this,t=JSON.parse(this.$route.query.extra);this.$store.dispatch("register",t).then(function(t){e.$toast(" Sign up successfully"),e.$router.go(-2)})},codPay:function(){var e=this,t=JSON.parse(this.$route.query.extra);Object(n.d)(t).then(function(i){e.$router.push({path:"paySuccessful",query:{orderNo:t.orderNo}})})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"head"},[s("div",[s("a",{staticClass:"iconfont back",on:{click:e.goBack}},[e._v(" î˜” ")])]),e._v(" "),s("h1",[e._v(e._s(e.title))]),e._v(" "),s("div",{staticClass:"chartWrap"})]),e._v(" "),s("div",{staticClass:"centerWrap"},[s("div",{staticClass:"center"},[s("span",{staticClass:"title"},[e._v(e._s(2==e.accountType?"AE +":"")+" "+e._s(e.username)+"\n        "),"codMobile"!=e.type?s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$router.go("-1")}}},[e._v("(Change)")]):e._e()]),e._v(" "),s("p",[e._v("\n        A text with a code has been sent to the number above, please enter the\n        code below.\n      ")]),e._v(" "),s("div",{staticClass:"emailWrap"},[s("img",{attrs:{src:i("qA3x")}}),e._v(" "),s("van-field",{attrs:{placeholder:"Enter Verify Code"},model:{value:e.validateCode,callback:function(t){e.validateCode=t},expression:"validateCode"}})],1),e._v(" "),s("van-button",{attrs:{type:"danger"},on:{click:e.submitSms}},[e._v(e._s(e.btnText))]),e._v(" "),s("span",{staticClass:"again"},[e._v("Didn't receive the code ?\n        "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:e.sendSms}},[e._v("(Resend Code)")])])],1)])])},staticRenderFns:[]};var c=i("C7Lr")(o,r,!1,function(e){i("gYFf")},"data-v-33a979f0",null);t.default=c.exports},gYFf:function(e,t){}});
//# sourceMappingURL=55.d787551f9ef4b4304623.js.map