{"version":3,"sources":["webpack:///src/components/orderList.vue","webpack:///./src/components/orderList.vue?a8a8","webpack:///./src/components/orderList.vue"],"names":["orderList","name","data","navIndex","navList","query","loading","finished","isLoading","isEmpty","orderStatus","computed","extends_default","Object","vuex_esm","mounted","this","init","methods","_this","assign_default","pageNo","pageSize","order","then","res","result","totalNum","length","catch","e","goBack","$router","back","change","i","onRefresh","onLoad","_this2","concat","_this3","addCart","item","_this4","prodList","forEach","$store","dispatch","skuCode","num","productQuantity","$toast","getAttributes","arr","map","t","optionName","join","cancel","_this5","orderNo","received","_this6","StringToDate","DateStr","converted","Date","parse","myDate","isNaN","arys","split","now","year","getFullYear","month","getMonth","day","getDate","getHours","getMinutes","getSeconds","clock","components_orderList","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","attrs","to","path","_s","indexData","shoppingCartNum","href","$event","push","_l","key","class","_e","refresh","model","value","callback","$$v","expression","finished-text","load","index","payType","orderStatusStr","item_child","index_child","src","img0","productName","attrOptList","createDate","payedAmount","toFixed","plain","hairline","type","logisticsInformationList","remark","_m","staticRenderFns","__webpack_require__","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/59.6d234d5c65d1d90bf465.js","sourcesContent":["<template>\n  <div>\n    <section class=\"head\">\n      <div>\n        <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a>\n      </div>\n      <h1>My Orders</h1>\n      <div class=\"chartWrap\">\n        <router-link :to=\"{ path: '/search', query: {} }\">\n          <span class=\"search iconfont\"> &#xe625; </span>\n        </router-link>\n        <span class=\"bag\">\n          <em class=\"font10\"> {{ indexData.shoppingCartNum }} </em>\n        </span>\n        <a\n          href=\"javascript:void(0)\"\n          class=\"iconfont cart\"\n          @click=\"$router.push('cart')\"\n        >\n          &#xe669;\n        </a>\n      </div>\n    </section>\n    <!-- @click=\"$router.push({path:'/orderDetail',query:{orderNo:item.orderNo})\" -->\n    <section class=\"tabNav\">\n      <div\n        v-for=\"(item, i) in navList\"\n        :key=\"i\"\n        :class=\"navIndex == i ? 'active' : ''\"\n        @click=\"change(i)\"\n      >\n        <span> {{ item.name }}</span>\n      </div>\n      <!-- <div class=\"active\"> <span> All </span> </div>\n        <div> <span> Unpaid </span> </div>\n        <div> <span> Transporting </span> </div>\n        <div> <span> Done </span> </div> -->\n    </section>\n\n    <section class=\"orderList\" v-if=\"!isEmpty\">\n      <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n        <van-list\n          v-model=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"The end\"\n          @load=\"onLoad\"\n        >\n          <ul>\n            <li v-for=\"(item, index) in orderList\" :key=\"index\">\n              <div\n                class=\"topNo\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <p>\n                  <span class=\"no\"> {{ item.orderNo }} </span>\n                  <span class=\"payStyle\"> {{ item.payType }} </span>\n                </p>\n                <p>\n                  <span class=\"payStatus\"> {{ item.orderStatusStr }} </span>\n                </p>\n              </div>\n              <div\n                class=\"proWrap clearfix\"\n                v-for=\"(item_child, index_child) in item.prodList\"\n                :key=\"index_child\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <div\n                  class=\"imgWrap\"\n                  @click=\"\n                    $router.push({\n                      path: '/orderDetail',\n                      query: { orderNo: item.orderNo }\n                    })\n                  \"\n                >\n                  <img :src=\"item_child.img0\" class=\"img\" />\n                </div>\n                <div class=\"numRight\">\n                  <span class=\"cheng\"> X </span>\n                  <span> {{ item_child.productQuantity }} </span>\n                </div>\n                <div class=\"rightMain\">\n                  <p class=\"name\">{{ item_child.productName }}</p>\n                  <p class=\"size\">\n                    {{ getAttributes(item_child.attrOptList) }}\n                  </p>\n                </div>\n              </div>\n              <div\n                class=\"downRow\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <p class=\"date\">{{ StringToDate(item.createDate) }}</p>\n                <p>\n                  <span class=\"color999\"> Grand Total: </span>\n                  <span class=\"total\">\n                    {{ (item.payedAmount / 100).toFixed(2) }} AED\n                  </span>\n                </p>\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 101\">\n                <van-button plain hairline type=\"primary\" @click=\"cancel(item)\"\n                  >Cancel</van-button\n                >\n                <van-button\n                  plain\n                  hairline\n                  type=\"danger\"\n                  @click=\"$router.push({path:'/payMent',query:{orderNo:item.orderNo}})\"\n                  >Pay</van-button\n                >\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 103||item.orderStatus==102\">\n                <span class=\"tips\" v-if=\"item.logisticsInformationList\">\n                  {{item.logisticsInformationList[0].remark}}</span\n                >\n                 <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                 @click=\"received(item.orderNo)\"\n                  >Received</van-button\n                >\n                <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                  @click=\"$router.push({path:'/logistics',query:{orderNo:item.orderNo}})\"\n                  >Logistic</van-button\n                >\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 104\">\n                <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                  @click=\"this.$router.push({path:'reviewsOrder',query:{orderNo:item.orderNo}})\"\n                  >Review</van-button\n                >\n                <van-button plain hairline type=\"danger\" @click=\"addCart(item)\"\n                  >Buy Again</van-button\n                >\n              </div>\n             <div class=\"downBtns\" v-if=\"item.orderStatus == 202\">\n\n                <van-button plain hairline type=\"danger\" @click=\"addCart(item)\"\n                  >Buy Again</van-button >\n              </div>\n            </li>\n          </ul>\n        </van-list>\n      </van-pull-refresh>\n    </section>\n\n    <template v-if=\"isEmpty\">\n      <div class=\"emptycenter\">\n          <img src=\"../common/images/myOrdersEmpty.png\">\n      </div>\n      <span class=\"tips\">You don't have any orders</span>\n      <div class=\"emptyDiv\">\n      <van-button  type=\"danger\" @click=\"$router.push('flashSale')\">EXPLORE OUR DEALS</van-button>\n      </div>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport { getOrderTypes, getAllOrder, cancelOrder,confirmOrder } from \"@/api/order\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"orderList\",\n  data() {\n    return {\n      navIndex: 0,\n      navList: [],\n      orderList: [],\n      query: {},\n      loading: false,\n      finished: false,\n      isLoading: true,\n      isEmpty:false,\n      orderStatus:''\n    };\n  },\n  computed: {\n    ...mapGetters([\"indexData\"])\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      this.query = Object.assign(this.query, { pageNo: 1, pageSize: 10 });\n      getOrderTypes().then(res => {\n        this.navList = res.data.result;\n        this.orderStatus = res.data.result[0].orderStatus;\n        getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n          .then(res => {\n            this.orderList = res.data.result.result;\n            this.isLoading = false;\n            if (res.data.result.totalNum <= this.orderList.length) {\n              this.finished = true;\n            }\n            if(res.data.result.result.length==0){\n              this.isEmpty=true;\n            }\n          })\n          .catch(e => {\n             this.isEmpty=true;\n            this.orderList=[];\n            this.finished = true;\n            this.isLoading = false;\n          });\n      });\n    },\n    goBack() {\n      this.$router.back(-1);\n    },\n    // 切换\n    change(i) {\n      this.navIndex = i;\n      this.orderStatus = this.navList[i].orderStatus;\n      this.onRefresh();\n    },\n    onLoad() {\n      if (this.isLoading) {\n        this.loading = false;\n        return false;\n      }\n      this.query.pageNo++;\n      let query = this.query;\n      getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n        .then(res => {\n          this.orderList = this.orderList.concat(res.data.result.result);\n           this.loading = false;\n          if (res.data.result.totalNum <= this.orderList.length) {\n            this.finished = true;\n          }\n        })\n        .catch(e => {\n          this.finished = true;\n          this.loading = false;\n        });\n    },\n    onRefresh() {\n      this.query = Object.assign(this.query, { pageNo: 1, pageSize: 10 });\n      getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n        .then(res => {\n          this.orderList = res.data.result.result;\n          this.isLoading = false;\n          if (res.data.result.totalNum <= this.orderList.length) {\n            this.finished = true;\n          }\n           if(res.data.result.result.length==0){\n              this.isEmpty=true;\n            }else {\n             this.isEmpty=false;\n           }\n        })\n        .catch(e => {\n            this.isEmpty=true;\n          this.orderList=[];\n          this.finished = true;\n          this.isLoading = false;\n        });\n    },\n    //添加购物车\n    addCart(item) {\n      item.prodList.forEach(e => {\n        this.$store\n          .dispatch(\"addCart\", { skuCode: e.skuCode, num: e.productQuantity })\n          .then(res => {});\n      });\n\n      this.$toast(\"Items have been added to Cart .\");\n    },\n    getAttributes(arr) {\n      return arr.map(t => t.optionName).join(\";\");\n    },\n    cancel(item) {\n      cancelOrder({ orderNo: item.orderNo }).then(res => {\n        this.init();\n      });\n    },\n     received(orderNo){\n      confirmOrder({\n        orderNo:orderNo\n      }).then(res=>{\n        this.$toast('Received Successfully');\n          this.init();\n      });\n    },\n    StringToDate(DateStr)  {   \n      var converted = Date.parse(DateStr);  \n      var myDate = new Date(converted);  \n      if (isNaN(myDate))  \n        {   \n            //var delimCahar = DateStr.indexOf('/')!=-1?'/':'-';  \n            var arys= DateStr.split('-');  \n            myDate = new Date(arys[0],--arys[1],arys[2]);  \n        }  \n        var now = myDate;\n        var year = now.getFullYear();       //年\n        var month = now.getMonth() + 1;     //月\n        var day = now.getDate();            //日\n       \n        var hh = now.getHours();            //时\n        var mm = now.getMinutes();          //分\n        var ss = now.getSeconds();          //秒\n\n        if(day < 10)\n            clock += \"0\";\n           \n        var clock = day + \"/\";\n\n        if(month < 10)\n            clock += \"0\";\n       \n        clock += month + \"/\";\n\n        clock += year + \" \";\n\n        return(clock); \n\n    } \n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../common/css/orderList.scss\";\n\n.emptycenter{\n        width: 100%;\n        padding: 0 4%;\n        display: flex; justify-content: center;\n        img{\n            width: 245px;\n            height: 109px;\n            margin-top: 100px;\n        }\n    }\n     .tips{\n            display: block;\n            width: 100%;\n            font-size: 18px;\n            color: #c3c3c3;\n            text-align: center;\n            padding-top: 40px;\n        }\n   .emptyDiv{\n       .van-button--danger{\n        width: 92%;\n        margin-left: 4%;\n        margin-top: 135px;\n       }\n   }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/orderList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"My Orders\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"},[_c('router-link',{attrs:{\"to\":{ path: '/search', query: {} }}},[_c('span',{staticClass:\"search iconfont\"},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('span',{staticClass:\"bag\"},[_c('em',{staticClass:\"font10\"},[_vm._v(\" \"+_vm._s(_vm.indexData.shoppingCartNum)+\" \")])]),_vm._v(\" \"),_c('a',{staticClass:\"iconfont cart\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.$router.push('cart')}}},[_vm._v(\"\\n        \\n      \")])],1)]),_vm._v(\" \"),_c('section',{staticClass:\"tabNav\"},_vm._l((_vm.navList),function(item,i){return _c('div',{key:i,class:_vm.navIndex == i ? 'active' : '',on:{\"click\":function($event){return _vm.change(i)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.name))])])}),0),_vm._v(\" \"),(!_vm.isEmpty)?_c('section',{staticClass:\"orderList\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"The end\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('ul',_vm._l((_vm.orderList),function(item,index){return _c('li',{key:index},[_c('div',{staticClass:\"topNo\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('p',[_c('span',{staticClass:\"no\"},[_vm._v(\" \"+_vm._s(item.orderNo)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"payStyle\"},[_vm._v(\" \"+_vm._s(item.payType)+\" \")])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"payStatus\"},[_vm._v(\" \"+_vm._s(item.orderStatusStr)+\" \")])])]),_vm._v(\" \"),_vm._l((item.prodList),function(item_child,index_child){return _c('div',{key:index_child,staticClass:\"proWrap clearfix\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('div',{staticClass:\"imgWrap\",on:{\"click\":function($event){return _vm.$router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })}}},[_c('img',{staticClass:\"img\",attrs:{\"src\":item_child.img0}})]),_vm._v(\" \"),_c('div',{staticClass:\"numRight\"},[_c('span',{staticClass:\"cheng\"},[_vm._v(\" X \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(item_child.productQuantity)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"rightMain\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item_child.productName))]),_vm._v(\" \"),_c('p',{staticClass:\"size\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.getAttributes(item_child.attrOptList))+\"\\n                \")])])])}),_vm._v(\" \"),_c('div',{staticClass:\"downRow\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.StringToDate(item.createDate)))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"color999\"},[_vm._v(\" Grand Total: \")]),_vm._v(\" \"),_c('span',{staticClass:\"total\"},[_vm._v(\"\\n                  \"+_vm._s((item.payedAmount / 100).toFixed(2))+\" AED\\n                \")])])]),_vm._v(\" \"),(item.orderStatus == 101)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.cancel(item)}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.$router.push({path:'/payMent',query:{orderNo:item.orderNo}})}}},[_vm._v(\"Pay\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 103||item.orderStatus==102)?_c('div',{staticClass:\"downBtns\"},[(item.logisticsInformationList)?_c('span',{staticClass:\"tips\"},[_vm._v(\"\\n                \"+_vm._s(item.logisticsInformationList[0].remark))]):_vm._e(),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.received(item.orderNo)}}},[_vm._v(\"Received\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({path:'/logistics',query:{orderNo:item.orderNo}})}}},[_vm._v(\"Logistic\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 104)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return this.$router.push({path:'reviewsOrder',query:{orderNo:item.orderNo}})}}},[_vm._v(\"Review\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.addCart(item)}}},[_vm._v(\"Buy Again\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 202)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.addCart(item)}}},[_vm._v(\"Buy Again\")])],1):_vm._e()],2)}),0)])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isEmpty)?[_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"tips\"},[_vm._v(\"You don't have any orders\")]),_vm._v(\" \"),_c('div',{staticClass:\"emptyDiv\"},[_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.$router.push('flashSale')}}},[_vm._v(\"EXPLORE OUR DEALS\")])],1)]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"emptycenter\"},[_c('img',{attrs:{\"src\":require(\"../common/images/myOrdersEmpty.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b0dec30\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/orderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b0dec30\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b0dec30\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b0dec30\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orderList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}