webpackJsonp([52],{TlkW:function(t,i){},aiqZ:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("aA9S"),a=s.n(e),n=(s("vMJZ"),{name:"browseRecord",data:function(){return{list:{},sortVisible:!1,searchValue:"",sortValue:2,query:{},loading:!1,finished:!1,isLoading:!0,sortType:[{value:1,label:"Price:Low to High"},{value:2,label:"Price:High to Low"},{value:3,label:"Best Sale"},{value:4,label:"High Rated"}],showStyle:1,show:!1,toggle:{Categories:1,Brand:0},priceRange:["",""],radioValue:1,radioValue2:1}},computed:{},mounted:function(){this.init()},methods:{init:function(){var t=this;this.query=a()(this.query,{pageNo:1,pageSize:10}),this.$store.dispatch("getUserBrowseProduct",this.query).then(function(i){t.list=i,t.isLoading=!1,0==i.length&&(t.finished=!0)}).catch(function(i){t.finished=!0,t.isLoading=!1})},onLoad:function(){var t=this;if(console.log(1),this.isLoading)return this.loading=!1,!1;this.query.pageNo++,this.$store.dispatch("getUserBrowseProduct",this.query).then(function(i){t.list=t.list.concat(i),t.loading=!1,0==i.length&&(t.finished=!0)}).catch(function(i){t.finished=!0,t.loading=!1})},onRefresh:function(){this.init()},changeSort:function(t){this.sortValue=t,this.sortVisible=!1},goBack:function(){this.$router.back(-1)},addChart:function(t){this.$refs.addCart.load(t)},deleteRecord:function(t,i){var s=this;this.$store.dispatch("deleteUserBrowseProduct",{index:i,id:t.id}).then(function(t){s.init()})},shareShow:function(t){this.$store.dispatch("share",{imageUrl:[t.spuMainImage],url:"proDetail?spuCode="+t.spuCode,title:t.name}).then(function(t){})},getStr:function(t){var i=t.indexOf("-");return-1!=i?t.substring(0,i-1):t}}}),o={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("section",{staticClass:"head"},[s("div",[s("a",{staticClass:"iconfont back",on:{click:t.goBack}},[t._v("  ")])]),t._v(" "),s("h1",[t._v("Browse record")]),t._v(" "),s("div",{staticClass:"chartWrap"},[s("a",{staticClass:"iconfont cart",on:{click:function(i){return t.$router.push("/cart")}}},[t._v("  ")])])]),t._v(" "),s("section",{staticClass:"downListWrap"},[s("van-pull-refresh",{attrs:{"loosing-text":"Release to refresh","loading-text":"Loading..."},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("van-list",{attrs:{finished:t.finished,"finished-text":"The end"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[s("div",{staticClass:"commonPro"},[s("ul",{staticClass:"clearfix",class:{turnLine:1==t.showStyle,Prolist:2==t.showStyle}},t._l(t.list,function(i,e){return s("li",{key:e,on:{click:function(s){return t.$router.push({path:"proDetail",query:{spuCode:i.spuCode}})}}},["0%"!=i.percentage?s("div",{staticClass:"tips_cutOff"},[t._v("\n                "+t._s(i.percentage)+" OFF\n              ")]):t._e(),t._v(" "),i.sale?s("div",{staticClass:"tips_sale"}):t._e(),t._v(" "),s("div",{staticClass:"imgWrap"},[s("img",{staticClass:"img",attrs:{src:i.spuMainImage}})]),t._v(" "),s("div",{staticClass:"rightMain"},[s("div",{staticClass:"name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"downWrap"},[s("div",{staticClass:"bottomPrice"},[s("p",{staticClass:"red"},[t._v(t._s(t.getStr(i.priceRange))+" AED")]),t._v(" "),s("p",{staticClass:"gray"},[t._v(t._s(t.getStr(i.priceRangeLine))+" AED")]),t._v(" "),1==i.isTypeFour?s("p",[t._v("Free Shipping")]):t._e()]),t._v(" "),s("div",{staticClass:"downShare"},[s("p",{staticClass:"others"},[t._v(t._s(i.sumSku)+" Other Items")]),t._v(" "),s("div",{class:{active:i.cart},on:{click:function(s){return s.stopPropagation(),t.addChart(i)}}},[s("span",{staticClass:"cart iconfont"},[t._v("  ")])]),t._v(" "),s("div",{class:{active:i.share},on:{click:function(s){return s.stopPropagation(),t.shareShow(i)}}},[s("span",{staticClass:"share iconfont"},[t._v("  ")])]),t._v(" "),s("div",{class:{active:i.share},on:{click:function(s){return s.stopPropagation(),t.deleteRecord(i,e)}}},[s("span",{staticClass:"share iconfont"},[t._v("  ")])])])])])])}),0)])])],1)],1),t._v(" "),s("add-cart",{ref:"addCart"})],1)},staticRenderFns:[]};var r=s("C7Lr")(n,o,!1,function(t){s("TlkW")},"data-v-3238d238",null);i.default=r.exports}});
//# sourceMappingURL=52.3b93dc490b264dcbfec6.js.map