{"version":3,"sources":["webpack:///src/components/orderList.vue","webpack:///./src/components/orderList.vue?3def","webpack:///./src/components/orderList.vue?2d61"],"names":["orderList","name","data","navIndex","navList","query","loading","finished","isLoading","isEmpty","orderStatus","computed","extends_default","Object","vuex_esm","mounted","this","bus","$emit","init","methods","_this","assign_default","pageNo","pageSize","order","then","res","result","totalNum","length","catch","e","goBack","$router","push","change","i","onRefresh","onLoad","_this2","concat","refresh","_this3","done","_this4","setTimeout","addCart","item","_this5","prodList","forEach","$store","dispatch","skuCode","num","productQuantity","$toast","getAttributes","arr","map","t","optionName","join","cancel","_this6","$dialog","confirm","message","confirmButtonText","cancelButtonText","orderNo","received","_this7","StringToDate","DateStr","converted","Date","parse","myDate","isNaN","arys","split","now","year","getFullYear","month","getMonth","day","getDate","getHours","getMinutes","getSeconds","payTypeEnum","type","components_orderList","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","attrs","to","path","indexData","shoppingCartNum","_s","_e","href","$event","_l","key","class","staticStyle","z-index","finished-text","load","model","value","callback","$$v","expression","index","payType","orderStatusStr","item_child","index_child","src","img0","productName","attrOptList","createDate","payedAmount","toFixed","plain","hairline","logisticsInformationList","remark","__webpack_require__","text-align","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/48.66968694bec40b4aa5d5.js","sourcesContent":["<template>\n  <div class=\"mainXiaoGuo\">\n    <div class=\"orderHeadWrap\">\n      <section class=\"head\">\n        <div>\n          <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a>\n        </div>\n        <h1>My Orders</h1>\n        <div class=\"chartWrap\">\n          <router-link :to=\"{ path: '/search', query: {} }\">\n            <span class=\"search iconfont\"> &#xe625; </span>\n          </router-link>\n          <span class=\"bag\" v-if=\"indexData.shoppingCartNum > 0\">\n            <em class=\"font10\"> {{ indexData.shoppingCartNum }} </em>\n          </span>\n          <a\n            href=\"javascript:void(0)\"\n            class=\"iconfont cart\"\n            @click=\"$router.push('cart')\"\n          >\n            &#xe669;\n          </a>\n        </div>\n      </section>\n\n    <!-- @click=\"$router.push({path:'/orderDetail',query:{orderNo:item.orderNo})\" -->\n    <section class=\"tabNav\">\n      <div style=\"z-index:10\"\n        v-for=\"(item, i) in navList\"\n        :key=\"i\"\n        :class=\"navIndex == i ? 'active' : ''\"\n        @click=\"change(i)\"\n      >\n        <span> {{ item.name }}</span>\n      </div>\n      <!-- <div class=\"active\"> <span> All </span> </div>\n        <div> <span> Unpaid </span> </div>\n        <div> <span> Transporting </span> </div>\n        <div> <span> Done </span> </div> -->\n    </section>\n\n  </div>\n\n    \n      <section class=\"orderList\" v-if=\"!isEmpty\">\n        <vx-pull-refresh\n      @refresh=\"onRefresh\"\n    >\n        <van-list\n          v-model=\"loading\"\n          :finished=\"finished\"\n          finished-text=\"The end\"\n          @load=\"onLoad\"\n        >\n          <ul>\n            <li v-for=\"(item, index) in orderList\" :key=\"index\">\n              <div\n                class=\"topNo\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <p>\n                  <span class=\"no\"> {{ item.orderNo }} </span>\n                  <span class=\"payStyle\"> {{ payTypeEnum(item.payType) }} </span>\n                </p>\n                <p>\n                  <span class=\"payStatus\"> {{ item.orderStatusStr }} </span>\n                </p>\n              </div>\n              <div\n                class=\"proWrap clearfix\"\n                v-for=\"(item_child, index_child) in item.prodList\"\n                :key=\"index_child\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <div\n                  class=\"imgWrap\"\n                  @click=\"\n                    $router.push({\n                      path: '/orderDetail',\n                      query: { orderNo: item.orderNo }\n                    })\n                  \"\n                >\n                  <img :src=\"item_child.img0\" class=\"img\" />\n                </div>\n                <div class=\"numRight\">\n                  <span class=\"cheng\"> X </span>\n                  <span> {{ item_child.productQuantity }} </span>\n                </div>\n                <div class=\"rightMain\">\n                  <p class=\"name\">{{ item_child.productName }}</p>\n                  <p class=\"size\">\n                    {{ getAttributes(item_child.attrOptList) }}\n                  </p>\n                </div>\n              </div>\n              <div\n                class=\"downRow\"\n                @click=\"\n                  $router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })\n                \"\n              >\n                <p class=\"date\">{{ StringToDate(item.createDate) }}</p>\n                <p>\n                  <span class=\"color999\"> Grand Total: </span>\n                  <span class=\"total\">\n                    {{ (item.payedAmount / 100).toFixed(2) }} AED\n                  </span>\n                </p>\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 101\">\n                <van-button plain hairline type=\"primary\" @click=\"cancel(item)\"\n                >Cancel</van-button\n                >\n                <van-button\n                  plain\n                  hairline\n                  type=\"danger\"\n                  @click=\"\n                    $router.push({\n                      path: '/payMent',\n                      query: { orderNo: item.orderNo }\n                    })\n                  \"\n                >Pay</van-button\n                >\n              </div>\n              <div\n                class=\"downBtns\"\n                v-if=\"item.orderStatus == 103 || item.orderStatus == 102\"\n              >\n                <span class=\"tips\" v-if=\"item.logisticsInformationList\">\n                  {{ item.logisticsInformationList[0].remark }}</span\n                >\n                <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                  @click=\"received(item.orderNo)\"\n                >Received</van-button\n                >\n                <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                  @click=\"\n                    $router.push({\n                      path: '/logistics',\n                      query: { orderNo: item.orderNo }\n                    })\n                  \"\n                >Logistic</van-button\n                >\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 104\">\n                <van-button\n                  plain\n                  hairline\n                  type=\"primary\"\n                  @click=\"\n                    this.$router.push({\n                      path: 'reviewsOrder',\n                      query: { orderNo: item.orderNo }\n                    })\n                  \"\n                >Review</van-button\n                >\n                <van-button plain hairline type=\"danger\" @click=\"addCart(item)\"\n                >Buy Again</van-button\n                >\n              </div>\n              <div class=\"downBtns\" v-if=\"item.orderStatus == 202\">\n                <van-button plain hairline type=\"danger\" @click=\"addCart(item)\"\n                >Buy Again</van-button\n                >\n              </div>\n            </li>\n          </ul>\n        </van-list>\n        </vx-pull-refresh>\n      </section>\n    \n\n    <template v-if=\"isEmpty\">\n      <div class=\"emptycenter\">\n        <img src=\"../common/images/myOrdersEmpty.png\" />\n        <span class=\"tips\" style=\"text-align: center;\">You don't have any orders</span>\n        <div class=\"emptyDiv\">\n          <van-button type=\"danger\" @click=\"$router.push('flashSale')\"\n          >EXPLORE OUR DEALS</van-button\n          >\n        </div>\n      </div>\n\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport {\n  getOrderTypes,\n  getAllOrder,\n  cancelOrder,\n  confirmOrder\n} from \"@/api/order\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"orderList\",\n  data() {\n    return {\n      navIndex: 0,\n      navList: [],\n      orderList: [],\n      query: {},\n      loading: false,\n      finished: false,\n      isLoading: true,\n      isEmpty: false,\n      orderStatus: \"\"\n    };\n  },\n  computed: {\n    ...mapGetters([\"indexData\"])\n  },\n  mounted() {\n    this.bus.$emit(\"showLoading\");\n    this.init();\n  },\n  methods: {\n    init() {\n      this.bus.$emit(\"loadIndexData\");\n      this.query = Object.assign(this.query, { pageNo: 1, pageSize: 10 });\n      getOrderTypes().then(res => {\n        this.navList = res.data.result;\n        this.orderStatus = res.data.result[0].orderStatus;\n        getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n          .then(res => {\n            this.orderList = res.data.result.result;\n            this.isLoading = false;\n            if (res.data.result.totalNum <= this.orderList.length) {\n              this.finished = true;\n            }\n            if (res.data.result.result.length == 0) {\n              this.isEmpty = true;\n            }\n          })\n          .catch(e => {\n            this.isEmpty = true;\n            this.orderList = [];\n            this.finished = true;\n            this.isLoading = false;\n          });\n      });\n      this.bus.$emit(\"hideLoading\");\n    },\n    goBack() {\n      //this.$router.back(-1);\n      this.$router.push(\"/center\");\n    },\n    // 切换\n    change(i) {\n      this.navIndex = i;\n      this.orderStatus = this.navList[i].orderStatus;\n      this.onRefresh();\n    },\n    onLoad() {\n      if (this.isLoading) {\n        this.loading = false;\n        return false;\n      }\n      this.query.pageNo++;\n      let query = this.query;\n      getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n        .then(res => {\n          this.orderList = this.orderList.concat(res.data.result.result);\n          this.loading = false;\n          if (res.data.result.totalNum <= this.orderList.length) {\n            this.finished = true;\n          }\n        })\n        .catch(e => {\n          this.finished = true;\n          this.loading = false;\n        });\n    },\n    refresh(){\n        this.query = Object.assign(this.query, { pageNo: 1, pageSize: 10 });\n        getAllOrder(this.orderStatus, this.query.pageNo, this.query.pageSize)\n          .then(res => {\n            this.orderList = res.data.result.result;\n            this.isLoading = false;\n            if (res.data.result.totalNum <= this.orderList.length) {\n              this.finished = true;\n            }\n            if (res.data.result.result.length == 0) {\n              this.isEmpty = true;\n            } else {\n              this.isEmpty = false;\n            }\n          })\n          .catch(e => {\n            this.isEmpty = true;\n            this.orderList = [];\n            this.finished = true;\n            this.isLoading = false;\n          });\n    },\n    onRefresh(done) {\n      setTimeout(() => {\n        this.refresh();\n        done()\n      }, 500);          \n      \n    },\n    //添加购物车\n    addCart(item) {\n      item.prodList.forEach(e => {\n        this.$store\n          .dispatch(\"addCart\", { skuCode: e.skuCode, num: e.productQuantity })\n          .then(res => {});\n      });\n\n      this.$toast(\"Items have been added to Cart .\");\n    },\n    getAttributes(arr) {\n      return arr.map(t => t.optionName).join(\";\");\n    },\n    cancel(item) {\n      this.$dialog\n        .confirm({\n          message: \"Are you sure to cancel this order?\",\n          confirmButtonText: \"Confirm\",\n          cancelButtonText: \"Cancel\"\n        })\n        .then(() => {\n          // on confirm\n          cancelOrder({ orderNo: item.orderNo }).then(res => {\n            this.init();\n          });\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    received(orderNo) {\n      confirmOrder({\n        orderNo: orderNo\n      }).then(res => {\n        this.$toast(\"Received Successfully\");\n        this.init();\n      });\n    },\n    StringToDate(DateStr) {\n      var converted = Date.parse(DateStr);\n      var myDate = new Date(converted);\n      if (isNaN(myDate)) {\n        //var delimCahar = DateStr.indexOf('/')!=-1?'/':'-';\n        var arys = DateStr.split(\"-\");\n        myDate = new Date(arys[0], --arys[1], arys[2]);\n      }\n      var now = myDate;\n      var year = now.getFullYear(); //年\n      var month = now.getMonth() + 1; //月\n      var day = now.getDate(); //日\n      var hh = now.getHours(); //时\n      var mm = now.getMinutes(); //分\n      var ss = now.getSeconds(); //秒\n      if (day < 10) clock += \"0\";\n      var clock = day + \"/\";\n\n      if (month < 10) clock += \"0\";\n      clock += month + \"/\";\n\n      clock += year + \" \";\n\n    },\n    payTypeEnum(type){\n        if(type === \"ONLINE\"){\n            return \"Online Pay\"\n        }\n        return type;\n    } \n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../common/css/orderList.scss\";\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/orderList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainXiaoGuo\"},[_c('div',{staticClass:\"orderHeadWrap\"},[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"My Orders\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"},[_c('router-link',{attrs:{\"to\":{ path: '/search', query: {} }}},[_c('span',{staticClass:\"search iconfont\"},[_vm._v(\"  \")])]),_vm._v(\" \"),(_vm.indexData.shoppingCartNum > 0)?_c('span',{staticClass:\"bag\"},[_c('em',{staticClass:\"font10\"},[_vm._v(\" \"+_vm._s(_vm.indexData.shoppingCartNum)+\" \")])]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"iconfont cart\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.$router.push('cart')}}},[_vm._v(\"\\n          \\n        \")])],1)]),_vm._v(\" \"),_c('section',{staticClass:\"tabNav\"},_vm._l((_vm.navList),function(item,i){return _c('div',{key:i,class:_vm.navIndex == i ? 'active' : '',staticStyle:{\"z-index\":\"10\"},on:{\"click\":function($event){return _vm.change(i)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.name))])])}),0)]),_vm._v(\" \"),(!_vm.isEmpty)?_c('section',{staticClass:\"orderList\"},[_c('vx-pull-refresh',{on:{\"refresh\":_vm.onRefresh}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"The end\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('ul',_vm._l((_vm.orderList),function(item,index){return _c('li',{key:index},[_c('div',{staticClass:\"topNo\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('p',[_c('span',{staticClass:\"no\"},[_vm._v(\" \"+_vm._s(item.orderNo)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"payStyle\"},[_vm._v(\" \"+_vm._s(_vm.payTypeEnum(item.payType))+\" \")])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"payStatus\"},[_vm._v(\" \"+_vm._s(item.orderStatusStr)+\" \")])])]),_vm._v(\" \"),_vm._l((item.prodList),function(item_child,index_child){return _c('div',{key:index_child,staticClass:\"proWrap clearfix\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('div',{staticClass:\"imgWrap\",on:{\"click\":function($event){return _vm.$router.push({\n                    path: '/orderDetail',\n                    query: { orderNo: item.orderNo }\n                  })}}},[_c('img',{staticClass:\"img\",attrs:{\"src\":item_child.img0}})]),_vm._v(\" \"),_c('div',{staticClass:\"numRight\"},[_c('span',{staticClass:\"cheng\"},[_vm._v(\" X \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(item_child.productQuantity)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"rightMain\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item_child.productName))]),_vm._v(\" \"),_c('p',{staticClass:\"size\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.getAttributes(item_child.attrOptList))+\"\\n                \")])])])}),_vm._v(\" \"),_c('div',{staticClass:\"downRow\",on:{\"click\":function($event){return _vm.$router.push({\n                  path: '/orderDetail',\n                  query: { orderNo: item.orderNo }\n                })}}},[_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.StringToDate(item.createDate)))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"color999\"},[_vm._v(\" Grand Total: \")]),_vm._v(\" \"),_c('span',{staticClass:\"total\"},[_vm._v(\"\\n                  \"+_vm._s((item.payedAmount / 100).toFixed(2))+\" AED\\n                \")])])]),_vm._v(\" \"),(item.orderStatus == 101)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.cancel(item)}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.$router.push({\n                    path: '/payMent',\n                    query: { orderNo: item.orderNo }\n                  })}}},[_vm._v(\"Pay\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 103 || item.orderStatus == 102)?_c('div',{staticClass:\"downBtns\"},[(item.logisticsInformationList)?_c('span',{staticClass:\"tips\"},[_vm._v(\"\\n                \"+_vm._s(item.logisticsInformationList[0].remark))]):_vm._e(),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.received(item.orderNo)}}},[_vm._v(\"Received\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({\n                    path: '/logistics',\n                    query: { orderNo: item.orderNo }\n                  })}}},[_vm._v(\"Logistic\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 104)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return this.$router.push({\n                    path: 'reviewsOrder',\n                    query: { orderNo: item.orderNo }\n                  })}}},[_vm._v(\"Review\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.addCart(item)}}},[_vm._v(\"Buy Again\")])],1):_vm._e(),_vm._v(\" \"),(item.orderStatus == 202)?_c('div',{staticClass:\"downBtns\"},[_c('van-button',{attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.addCart(item)}}},[_vm._v(\"Buy Again\")])],1):_vm._e()],2)}),0)])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isEmpty)?[_c('div',{staticClass:\"emptycenter\"},[_c('img',{attrs:{\"src\":require(\"../common/images/myOrdersEmpty.png\")}}),_vm._v(\" \"),_c('span',{staticClass:\"tips\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"You don't have any orders\")]),_vm._v(\" \"),_c('div',{staticClass:\"emptyDiv\"},[_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.$router.push('flashSale')}}},[_vm._v(\"EXPLORE OUR DEALS\")])],1)])]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-506af94b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/orderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-506af94b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-506af94b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-506af94b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orderList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}