webpackJsonp([56],{"0pIR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("BXx+");var i=a("vMJZ"),n={name:"feedBack",data:function(){return{email:"",types:[],images:[],selectType:0,content:""}},computed:{},mounted:function(){this.init()},methods:{init:function(){var t=this;Object(s.a)({url:"/user/feedback/type",method:"get"}).then(function(e){t.types=e.data.result})},clear:function(t){this.images.splice(t,1)},changeSort:function(t){this.sortValue=t,this.sortVisible=!1},onRead:function(t){var e=this,a=new FormData;a.append("file",t.file),Object(i.i)(a).then(function(t){e.images.push(t.data.result[0].fileLink)})},goBack:function(){this.$router.back(-1)},apply:function(){for(var t=this,e={feedBackType:this.types[this.selectType].feedBackType,description:this.content,userMail:this.userMail,userId:this.$store.getters.user.id},a=0;a<this.images.length;a++){var i=this.images[a];e["img{0}".format(a+1)]=i}(function(t){return Object(s.a)({url:"/user/feedback/add",method:"post",params:t})})(e).then(function(e){t.$toast("Feed back success"),t.$router.push("/center")})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"head"},[a("div",[a("a",{staticClass:"iconfont back",on:{click:t.goBack}},[t._v("  ")])]),t._v(" "),a("h1",[t._v("Feed Back & Suggestion")]),t._v(" "),a("div",{staticClass:"chartWrap"})]),t._v(" "),a("div",{staticClass:"feedBackWrap"},[a("ul",[a("li",[a("div",{staticClass:"starWrap"},[t._v("\n                    Problem"),a("font",{staticStyle:{color:"#CC0303","font-size":"12px"}},[t._v("* Please select at least one "),a("span",{staticClass:"iconfont"},[t._v(" ")])])],1),t._v(" "),a("div",{staticClass:"comment"},t._l(t.types,function(e,s){return a("div",{key:s,class:["setmeal",s==t.selectType?"red":""],on:{click:function(e){t.selectType=s}}},[t._v("\n                        "+t._s(e.feedBackName)+"\n                    ")])}),0),t._v(" "),a("div",{staticClass:"leavemessage"},[t._v("\n                    Descriptions"),a("font",{staticStyle:{color:"#CC0303"}},[t._v("*")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"leaving ",attrs:{rows:"7",placeholder:"Max 200 Characters",name:"remarks"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})],1),t._v(" "),a("div",{staticClass:"screenshot"},[a("p",[t._v("Problem Screenshot")]),t._v(" "),a("div",{staticClass:"photoWrap"},[t._l(t.images,function(e,s){return a("div",{key:s,staticClass:"photo"},[a("img",{attrs:{src:e}}),t._v(" "),a("span",{staticClass:"iconfont red",on:{click:function(e){return t.clear(s)}}},[t._v("  ")])])}),t._v(" "),t.images.length<5?a("van-uploader",{staticClass:"addPhoto",attrs:{"after-read":t.onRead}},[a("div",{staticClass:"addPicture"},[a("span",{staticClass:"iconfont"},[t._v("")])])]):t._e()],2)])])])]),t._v(" "),a("div",{staticClass:"email"},[a("van-field",{attrs:{placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("van-button",{attrs:{type:"danger"},on:{click:t.apply}},[t._v("Submit")])],1)},staticRenderFns:[]};var o=a("VU/8")(n,c,!1,function(t){a("H4p9")},"data-v-2d465b10",null);e.default=o.exports},H4p9:function(t,e){}});
//# sourceMappingURL=56.9fca48adca0d38e8af96.js.map