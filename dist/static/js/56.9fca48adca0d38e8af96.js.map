{"version":3,"sources":["webpack:///src/components/feedBack.vue","webpack:///./src/api/feedback.js","webpack:///./src/components/feedBack.vue?4766","webpack:///./src/components/feedBack.vue"],"names":["feedBack","name","data","email","types","images","selectType","content","computed","mounted","this","init","methods","_this","request","url","method","then","res","result","clear","index","splice","changeSort","val","sortValue","sortVisible","onRead","file","_this2","param","FormData","append","Object","user","push","fileLink","goBack","$router","back","apply","_this3","params","feedBackType","description","userMail","userId","$store","getters","id","i","length","element","format","feedback","$toast","components_feedBack","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","staticStyle","color","font-size","_l","type","key","class","$event","_s","feedBackName","directives","rawName","value","expression","attrs","rows","placeholder","domProps","input","target","composing","image","src","after-read","_e","model","callback","$$v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wIAgDAA,GACAC,KAAA,WACAC,KAFA,WAGA,OACAC,MAAA,GACAC,SACAC,UACAC,WAAA,EACAC,QAAA,KAGAC,YAEAC,QAbA,WAcAC,KAAAC,QAEAC,SACAD,KADA,WACA,IAAAE,EAAAH,KC9DSI,aACLC,IAAK,sBACLC,OAAQ,QD6DZC,KAAA,SAAAC,GACAL,EAAAT,MAAAc,EAAAhB,KAAAiB,UAGAC,MANA,SAMAC,GACAX,KAAAL,OAAAiB,OAAAD,EAAA,IAEAE,WATA,SASAC,GACAd,KAAAe,UAAAD,EACAd,KAAAgB,aAAA,GAEAC,OAbA,SAaAC,GAAA,IAAAC,EAAAnB,KACAoB,EAAA,IAAAC,SACAD,EAAAE,OAAA,OAAAJ,QACAK,OAAAC,EAAA,EAAAD,CAAAH,GAAAb,KAAA,SAAAC,GACAW,EAAAxB,OAAA8B,KAAAjB,EAAAhB,KAAAiB,OAAA,GAAAiB,aAGAC,OApBA,WAqBA3B,KAAA4B,QAAAC,MAAA,IAEAC,MAvBA,WA8BA,IAPA,IAAAC,EAAA/B,KACAgC,GACAC,aAAAjC,KAAAN,MAAAM,KAAAJ,YAAAqC,aACAC,YAAAlC,KAAAH,QACAsC,SAAAnC,KAAAmC,SACAC,OAAApC,KAAAqC,OAAAC,QAAAd,KAAAe,IAEAC,EAAA,EAAAA,EAAAxC,KAAAL,OAAA8C,OAAAD,IAAA,CACA,IAAAE,EAAA1C,KAAAL,OAAA6C,GACAR,EAAA,SAAAW,OAAAH,EAAA,IAAAE,GCvFO,SAAkBV,GACrB,OAAO5B,aACLC,IAAK,qBACLC,OAAQ,OACR0B,YDqFNY,CAAAZ,GAAAzB,KAAA,SAAAC,GACAuB,EAAAc,OAAA,qBACAd,EAAAH,QAAAH,KAAA,gBEjGeqB,GADEC,OAFjB,WAA0B,IAAAC,EAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,YAAA,SAAmBF,EAAA,OAAAA,EAAA,KAAoBE,YAAA,gBAAAC,IAAgCC,MAAAP,EAAArB,UAAoBqB,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,4BAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAkGE,YAAA,gBAAwBL,EAAAQ,GAAA,KAAAL,EAAA,OAA0BE,YAAA,iBAA2BF,EAAA,MAAAA,EAAA,MAAAA,EAAA,OAA8BE,YAAA,aAAuBL,EAAAQ,GAAA,iCAAAL,EAAA,QAAqDM,aAAaC,MAAA,UAAAC,YAAA,UAAsCX,EAAAQ,GAAA,iCAAAL,EAAA,QAAqDE,YAAA,aAAuBL,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA6CE,YAAA,WAAsBL,EAAAY,GAAAZ,EAAA,eAAAa,EAAAlD,GAAyC,OAAAwC,EAAA,OAAiBW,IAAAnD,EAAAoD,OAAA,UAAApD,GAAAqC,EAAApD,WAAA,UAAA0D,IAAgEC,MAAA,SAAAS,GAAyBhB,EAAApD,WAAAe,MAAuBqC,EAAAQ,GAAA,6BAAAR,EAAAiB,GAAAJ,EAAAK,cAAA,8BAA4F,GAAAlB,EAAAQ,GAAA,KAAAL,EAAA,OAA2BE,YAAA,iBAA2BL,EAAAQ,GAAA,sCAAAL,EAAA,QAA0DM,aAAaC,MAAA,aAAmBV,EAAAQ,GAAA,OAAAR,EAAAQ,GAAA,KAAAL,EAAA,YAA2CgB,aAAa5E,KAAA,QAAA6E,QAAA,UAAAC,MAAArB,EAAA,QAAAsB,WAAA,YAAwEjB,YAAA,WAAAkB,OAAgCC,KAAA,IAAAC,YAAA,qBAAAlF,KAAA,WAA+DmF,UAAWL,MAAArB,EAAA,SAAsBM,IAAKqB,MAAA,SAAAX,GAAyBA,EAAAY,OAAAC,YAAsC7B,EAAAnD,QAAAmE,EAAAY,OAAAP,YAAkC,GAAArB,EAAAQ,GAAA,KAAAL,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,KAAAH,EAAAQ,GAAA,wBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAA+DE,YAAA,cAAwBL,EAAAY,GAAAZ,EAAA,gBAAA8B,EAAAnE,GAA4C,OAAAwC,EAAA,OAAiBW,IAAAnD,EAAA0C,YAAA,UAA8BF,EAAA,OAAYoB,OAAOQ,IAAAD,KAAa9B,EAAAQ,GAAA,KAAAL,EAAA,QAAyBE,YAAA,eAAAC,IAA+BC,MAAA,SAAAS,GAAyB,OAAAhB,EAAAtC,MAAAC,OAA0BqC,EAAAQ,GAAA,aAAoBR,EAAAQ,GAAA,KAAAR,EAAArD,OAAA8C,OAAA,EAAAU,EAAA,gBAAuDE,YAAA,WAAAkB,OAA8BS,aAAAhC,EAAA/B,UAAyBkC,EAAA,OAAYE,YAAA,eAAyBF,EAAA,QAAaE,YAAA,aAAuBL,EAAAQ,GAAA,WAAAR,EAAAiC,MAAA,WAAAjC,EAAAQ,GAAA,KAAAL,EAAA,OAA+DE,YAAA,UAAoBF,EAAA,aAAkBoB,OAAOE,YAAA,SAAsBS,OAAQb,MAAArB,EAAA,MAAAmC,SAAA,SAAAC,GAA2CpC,EAAAvD,MAAA2F,GAAcd,WAAA,YAAqB,GAAAtB,EAAAQ,GAAA,KAAAL,EAAA,cAAmCoB,OAAOV,KAAA,UAAgBP,IAAKC,MAAAP,EAAAlB,SAAmBkB,EAAAQ,GAAA,iBAEhwE6B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElG,EACAwD,GATF,EAVA,SAAA2C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/56.9fca48adca0d38e8af96.js","sourcesContent":["<template>\n<div>\n   <section class=\"head\">\n      <div> <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a> </div>\n      <h1>Feed Back & Suggestion</h1>\n      <div class=\"chartWrap\">\n        </div>\n    </section>\n    <div class=\"feedBackWrap\">\n        <ul>\n            <li>\n                <div class=\"starWrap\">\n                    Problem<font style=\"color: #CC0303;font-size: 12px;\">* Please select at least one <span class=\"iconfont\"> &#xe657;</span></font>\n                </div>\n                <div class=\"comment\">\n                    <div :class=\"['setmeal', index==selectType?'red':'']\" @click=\"selectType=index\" v-for=\"(type,index) in types\" :key=\"index\">\n                        {{type.feedBackName}}\n                    </div>\n\n                </div>\n                <div class=\"leavemessage\">\n                    Descriptions<font style=\"color: #CC0303;\">*</font>\n                    <textarea  rows=\"7\" class=\"leaving \" placeholder=\"Max 200 Characters\" v-model=\"content\" name=\"remarks\"></textarea>\n                </div>\n                <div class=\"screenshot\">\n                    <p>Problem Screenshot</p>\n                    <div class=\"photoWrap\">\n                        <div class=\"photo\" v-for=\"(image,index) in images\" :key=\"index\">\n                            <img :src=\"image\">\n                            <span class=\"iconfont red\" @click=\"clear(index)\"> &#xe65e; </span>\n                        </div>\n                        <van-uploader v-if=\"images.length<5\" class=\"addPhoto\" :after-read=\"onRead\" ><div class=\"addPicture\"><span class=\"iconfont\">&#xe715;</span></div></van-uploader>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <div class=\"email\">\n        <van-field v-model=\"email\" placeholder=\"Email\" />\n    </div>\n    <van-button type=\"danger\" @click=\"apply\">Submit</van-button>\n  </div>\n</template>\n\n<script>\n\nimport {feedbackType,feedback} from '@/api/feedback'\nimport {imgUpload} from '@/api/user'\nexport default {\n  name: 'feedBack',\n  data () {\n    return {\n     email:'',\n     types:[],\n     images:[],\n     selectType:0,\n     content:\"\"\n    }\n  },\n  computed: {\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init(){\n        feedbackType().then(res=>{\n            this.types=res.data.result;\n        })\n    },\n    clear(index){\n        this.images.splice(index,1);\n    },\n    changeSort(val){\n      this.sortValue=val;\n      this.sortVisible=false;\n    },\n     onRead(file) {\n        let param = new FormData();\n        param.append(\"file\", file.file);\n         imgUpload(param).then(res=>{\n             this.images.push(res.data.result[0].fileLink);\n         });\n    },\n    goBack(){\n      this.$router.back(-1)\n    },\n    apply(){\n        let params={\n            feedBackType:this.types[this.selectType].feedBackType,\n            description:this.content,\n            userMail:this.userMail,\n            userId:this.$store.getters.user.id\n        };\n        for (let i = 0; i < this.images.length; i++) {\n            const element = this.images[i];\n            params['img{0}'.format(i+1)]=element;\n        }\n        feedback(params).then(res=>{\n            this.$toast('Feed back success');\n            this.$router.push('/center');\n        });\n    }\n\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .feedBackWrap{\n        ul{\n            padding-top: 10px;\n            background-color: #F6F6F6;\n        }\n        li{\n            margin-bottom: 10px;\n            padding-left: 4%;\n            background-color: white;\n        }\n    }\n    .starWrap{\n        width: 100%;\n\n        padding-right: 4%;\n        font-size: 14px;\n        padding-top: 15px;\n    }\n    .comment{\n      width: 100%;\n      padding: 0 0px 10px 0px;\n      height: 90px;\n    }\n    .setmeal{\n        width: 91px;\n        height: 27px;\n        font-size: 13px;\n        line-height: 25px;\n        border: #666666 1px solid;\n        border-radius: 2px;\n        text-align: center;\n        color: #666666;\n        float: left;\n        margin-top: 10px;\n        margin-right: 28px;\n    }\n    .red{\n      border: #E33946 1px solid;\n      color: #E33946;\n    }\n    .leavemessage{\n      width: 100%;\n      padding-right: 4%;\n      font-size: 14px;\n    }\n    .leaving{\n      resize: none;\n      border: none;\n      margin-top: 10px;\n      padding: 5px 10px 0 10px;\n      width: 100%;\n      background: rgba(246,246,246,1);\n    }\n    .van-button{\n      width: 92%;\n      margin: 0 4%;\n      margin-top: 25px;\n    }\n    .screenshot{\n        padding-right: 4%;\n        padding-top: 15px;\n        p{\n            font-size: 14px;\n        }\n        .photoWrap{\n            width: 100%;\n            display: -webkit-inline-box;\n            .addPhoto{\n                width: 51px;\n                height: 51px;\n                margin-top: 10px;\n                margin-right: 8%;\n                img{\n                    height: 100%;\n                    width: 100%;\n                }\n            }\n            .addPicture{\n                width: 51px;\n                height: 51px;\n                display: flex; align-items: center; justify-content: center;\n                border:0.5px dashed #e5e5e5;\n            }\n            .photo{\n                width: 51px;\n                height: 51px;\n                margin-top: 10px;\n                margin-right: 8%;\n                position: relative;\n                span{\n                    position: absolute;\n                    right: -10px;\n                    top: -10px;\n                    border: none;\n                }\n                img{\n                    height: 100%;\n                    width: 100%;\n                }\n            }\n        }\n    }\n    .email{\n        width: 100%;\n        border-top: #F6F6F6 10px solid;\n        padding: 5px 4% 5px 0;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/feedBack.vue","import request from '@/common/js/fetch'\n\nexport function feedbackType() {\n  return request({\n    url: '/user/feedback/type',\n    method: 'get',\n  })\n}\n\nexport function feedback(params) {\n    return request({\n      url: '/user/feedback/add',\n      method: 'post',\n      params\n    })\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/api/feedback.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"Feed Back & Suggestion\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"})]),_vm._v(\" \"),_c('div',{staticClass:\"feedBackWrap\"},[_c('ul',[_c('li',[_c('div',{staticClass:\"starWrap\"},[_vm._v(\"\\n                    Problem\"),_c('font',{staticStyle:{\"color\":\"#CC0303\",\"font-size\":\"12px\"}},[_vm._v(\"* Please select at least one \"),_c('span',{staticClass:\"iconfont\"},[_vm._v(\" \")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"comment\"},_vm._l((_vm.types),function(type,index){return _c('div',{key:index,class:['setmeal', index==_vm.selectType?'red':''],on:{\"click\":function($event){_vm.selectType=index}}},[_vm._v(\"\\n                        \"+_vm._s(type.feedBackName)+\"\\n                    \")])}),0),_vm._v(\" \"),_c('div',{staticClass:\"leavemessage\"},[_vm._v(\"\\n                    Descriptions\"),_c('font',{staticStyle:{\"color\":\"#CC0303\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"leaving \",attrs:{\"rows\":\"7\",\"placeholder\":\"Max 200 Characters\",\"name\":\"remarks\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"screenshot\"},[_c('p',[_vm._v(\"Problem Screenshot\")]),_vm._v(\" \"),_c('div',{staticClass:\"photoWrap\"},[_vm._l((_vm.images),function(image,index){return _c('div',{key:index,staticClass:\"photo\"},[_c('img',{attrs:{\"src\":image}}),_vm._v(\" \"),_c('span',{staticClass:\"iconfont red\",on:{\"click\":function($event){return _vm.clear(index)}}},[_vm._v(\"  \")])])}),_vm._v(\" \"),(_vm.images.length<5)?_c('van-uploader',{staticClass:\"addPhoto\",attrs:{\"after-read\":_vm.onRead}},[_c('div',{staticClass:\"addPicture\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")])])]):_vm._e()],2)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"email\"},[_c('van-field',{attrs:{\"placeholder\":\"Email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.apply}},[_vm._v(\"Submit\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d465b10\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/feedBack.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d465b10\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./feedBack.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./feedBack.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./feedBack.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d465b10\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./feedBack.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d465b10\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/feedBack.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}