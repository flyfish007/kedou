{"version":3,"sources":["webpack:///src/components/payMent.vue","webpack:///./src/components/payMent.vue?95da","webpack:///./src/components/payMent.vue?0e2e"],"names":["payMent","name","data","radio","show","cardList","orderNo","this","$route","query","defaultCard","orderDetail","codPayFee","selectBank","computed","mounted","init","methods","_this","Object","bankCard","then","res","result","order","changeSort","val","sortValue","sortVisible","goBack","_this2","$dialog","confirm","message","confirmButtonText","cancelButtonText","$router","push","catch","toPay","_this3","msg","userAddress","mobile","path","username","accountType","type","extra","stringify_default","confirmFee","showCancelButton","watch","components_payMent","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","_s","grandTotal","model","value","callback","$$v","expression","attrs","checked-color","codAdditionalFee","color","size","disabled","cardNum","$event","position","redirect","_l","item","index","key","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/56.519bbd22f1845151801d.js","sourcesContent":["<template>\n<div>\n   <section class=\"head\">\n      <div> <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a> </div>\n      <h1>Payment</h1>\n       <div class=\"chartWrap\">\n        </div>\n    </section>\n    <div class=\"center\">\n        <div class=\"price\">\n            {{orderDetail.grandTotal}} AED\n        </div>\n        <div class=\"payMethod\">\n            <div class=\"codWrap\">\n                <span class=\"cod\"> <van-radio-group v-model=\"radio\"><van-radio name=\"1\" checked-color=\"#e33946\">COD</van-radio></van-radio-group></span>\n                <span class=\"additional\">+{{codPayFee.codAdditionalFee}} AED <van-icon name=\"question-o\" color=\"#55a4e1\" @click=\"confirmFee\" size=\"17px\"/></span>\n            </div>\n            <div class=\"cardWrap\">\n                <span class=\"cod\"> <van-radio-group disabled=\"disabled\" v-model=\"radio\"><van-radio name=\"2\" checked-color=\"#e33946\"> Bank Card</van-radio></van-radio-group></span>\n                <span class=\"bankCard\">{{defaultCard.cardNum}} <van-icon @click=\"show = true\" name=\"arrow-down\" size=\"17px\"/></span>\n            </div>\n             <div class=\"paypalWrap\">\n                <span class=\"cod\"> <van-radio-group disabled=\"disabled\" v-model=\"radio\"><van-radio name=\"3\" checked-color=\"#e33946\"> Paypal</van-radio></van-radio-group></span>\n            </div>\n        </div>\n        <van-button type=\"danger\" @click=\"toPay\">Pay</van-button>\n    </div>\n    <van-popup v-model=\"show\" position=\"bottom\">\n        <div class=\"newCard\">\n            <span @click=\"show = false\">Cancel</span>\n            <span class=\"add\" @click='redirect(\"/myBankcards\")'>Add New Card</span>\n        </div>\n        <div class=\"choiceBankWrap\">\n                <div class=\"choiceBank\" v-for=\"(item,index) in cardList\" :key=\"index\">\n                    <div class=\"btn_left\">\n                        <van-radio-group v-model=\"selectBank\">\n                        <van-radio :name=\"index\" checked-color=\"#e33946\"></van-radio>\n                        </van-radio-group>\n                    </div>\n                    <div class=\"bankName\">\n                        <p>{{item.name}}</p>\n                        <span>{{item.cardNum}}</span>\n                    </div>\n                </div>\n        </div>\n    </van-popup>\n</div>\n</template>\n\n<script>\n\nimport {myBankCards} from '@/api/bankCard'\nimport {submitOrder,codPay,orderDetail,getCodAdditionalFee} from '@/api/order'\nimport {sendSms} from '@/api/msg'\nexport default {\n  name: 'payMent',\n  data () {\n    return {\n        radio: '1',\n        show: false,\n        cardList:[],\n        orderNo:this.$route.query.orderNo,\n        defaultCard:{},\n        orderDetail:{},\n        codPayFee:{},\n        selectBank:0\n    }\n  },\n  computed: {\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init(){\n       myBankCards().then(res=>{\n           this.cardList=res.data.result;\n           this.defaultCard=this.cardList[0]||{};\n       });\n       orderDetail({orderNo:this.orderNo}).then(res=>{\n           this.orderDetail=res.data.result;\n       })\n       getCodAdditionalFee({orderNo:this.orderNo}).then(res=>{\n           this.codPayFee=res.data.result;\n       })\n    },\n    changeSort(val){\n      this.sortValue=val;\n      this.sortVisible=false;\n    },\n    goBack(){\n        this.$dialog\n        .confirm({\n          message: \"Please pay it in 30 min, otherwise the order will be cancelled?\",\n          confirmButtonText: \"Confirm\",\n          cancelButtonText: \"Cancel\"\n        })\n        .then(() => {\n          // on confirm\n         this.$router.push('/')\n\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    toPay(){\n        if(this.radio=='1'){\n            sendSms(\n                this.orderDetail.userAddress.mobile,\n                \"codMobile\"\n            ).then(res=>{\n                this.$router.push({path:'verifyCode',query:{username:this.orderDetail.userAddress.mobile,accountType:2,type:\"codMobile\",extra:JSON.stringify({orderNo:this.orderNo})}});\n            })\n            // codPay({\n            //     orderNo:this.orderDetail.orderNo\n            // }).then(res=>{\n\n            // })\n        }\n    },\n    confirmFee(){\n         this.$dialog\n             .confirm({\n            // title: '标题',\n            message: 'COD required extra service fee',\n            confirmButtonText:'I Know',\n            showCancelButton:false\n            }).then(() => {\n            // on close\n            });\n\n    }\n\n\n  },\n  watch:{\n      selectBank:function(val){\n          this.defaultCard=this.cardList[val]\n          this.show=false;\n      }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .center{\n        width: 100%;\n        border-top: 10px #f6f6f6 solid;\n        .price{\n            color: #e33946;\n            display: flex; align-items: center; justify-content: center;\n            font-size: 19px;\n            padding: 25px 4%;\n            border-bottom: #f6f6f6 1px solid;\n        }\n        .payMethod{\n            width: 100%;\n            padding-left: 4%;\n            .codWrap,.cardWrap,.paypalWrap{\n                width: 100%;\n                display: -webkit-box;\n                padding: 15px 4%;\n                border-bottom: 1px solid #f6f6f6;\n                .additional{\n                    font-size: 12px;\n                    display: flex; align-items: center; justify-content: flex-end;\n                    .van-icon{\n                        margin-left: 10px;\n                    }\n                }\n                .bankCard{\n                    font-size: 12px;\n                    display: flex; align-items: center; justify-content: flex-end;\n                    color: #666666;\n                    .van-icon{\n                        margin-left: 10px;\n                    }\n                }\n                .cod{\n                    font-size: 14px;\n                }\n                span{\n                    display: block;\n                    width: 50%;\n                   \n                }\n            }\n        }\n        .van-button--danger{\n            width: 92%;\n            margin-left: 4%;\n            margin-top: 70px;\n        }\n    }\n    .newCard{\n        padding: 20px 4% 0px;\n        display: -webkit-box;\n        span{\n            color: #999999;\n            font-size: 15px;\n            display: block;\n            width: 50%;\n        }\n        .add{\n            color: #e33946;\n            text-align: right;\n        }\n    }\n    .choiceBankWrap{\n        padding: 20px 0 20px 4%;\n        width: 100%;\n        .choiceBank{\n            display: -webkit-box;\n            width: 100%;\n            .btn_left{\n                display: flex; align-items: center;\n                padding-right: 15px;\n            }\n            .bankName{\n                padding: 10px 0 15px 0;\n                p{\n                    font-size: 15px;\n                    padding-bottom: 10px;\n                }\n                span{\n                    color: #666666;\n                    font-size: 14px;\n                }\n            }\n        }\n    }\n    .choiceBank:first-child{\n        border-bottom: 1px solid #f6f6f6;\n    }\n    .van-radio{\n        color: #333333 !important;\n        font-size: 14px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/payMent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"Payment\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"})]),_vm._v(\" \"),_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"price\"},[_vm._v(\"\\n            \"+_vm._s(_vm.orderDetail.grandTotal)+\" AED\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"payMethod\"},[_c('div',{staticClass:\"codWrap\"},[_c('span',{staticClass:\"cod\"},[_c('van-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-radio',{attrs:{\"name\":\"1\",\"checked-color\":\"#e33946\"}},[_vm._v(\"COD\")])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"additional\"},[_vm._v(\"+\"+_vm._s(_vm.codPayFee.codAdditionalFee)+\" AED \"),_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"#55a4e1\",\"size\":\"17px\"},on:{\"click\":_vm.confirmFee}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"cardWrap\"},[_c('span',{staticClass:\"cod\"},[_c('van-radio-group',{attrs:{\"disabled\":\"disabled\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-radio',{attrs:{\"name\":\"2\",\"checked-color\":\"#e33946\"}},[_vm._v(\" Bank Card\")])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"bankCard\"},[_vm._v(_vm._s(_vm.defaultCard.cardNum)+\" \"),_c('van-icon',{attrs:{\"name\":\"arrow-down\",\"size\":\"17px\"},on:{\"click\":function($event){_vm.show = true}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"paypalWrap\"},[_c('span',{staticClass:\"cod\"},[_c('van-radio-group',{attrs:{\"disabled\":\"disabled\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-radio',{attrs:{\"name\":\"3\",\"checked-color\":\"#e33946\"}},[_vm._v(\" Paypal\")])],1)],1)])]),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.toPay}},[_vm._v(\"Pay\")])],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"newCard\"},[_c('span',{on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('span',{staticClass:\"add\",on:{\"click\":function($event){return _vm.redirect(\"/myBankcards\")}}},[_vm._v(\"Add New Card\")])]),_vm._v(\" \"),_c('div',{staticClass:\"choiceBankWrap\"},_vm._l((_vm.cardList),function(item,index){return _c('div',{key:index,staticClass:\"choiceBank\"},[_c('div',{staticClass:\"btn_left\"},[_c('van-radio-group',{model:{value:(_vm.selectBank),callback:function ($$v) {_vm.selectBank=$$v},expression:\"selectBank\"}},[_c('van-radio',{attrs:{\"name\":index,\"checked-color\":\"#e33946\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bankName\"},[_c('p',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.cardNum))])])])}),0)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-243fcfb1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/payMent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-243fcfb1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./payMent.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./payMent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./payMent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-243fcfb1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./payMent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-243fcfb1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/payMent.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}